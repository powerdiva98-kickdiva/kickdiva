[
  {
"name1":"mod1",   
"mod1":"KGZ1bmN0aW9uKCl7J3VzZSBzdHJpY3QnOwoKLy8gKipb2KfZhNil2LbYp9mB2Kkg2KfZhNis2K/Zitiv2Kk6INii2YTZitipINmF2YbYuSDYpdi52KfYr9ipINin2YTYrdmC2YZdKioKLy8g2YrYqtmFINmB2K3YtSDYp9mE2YXYqti62YrYsSDYp9mE2LnYp9mFLiDYpdiw2Kcg2YPYp9mGINin2YTZg9mI2K8g2YXYrdmF2YTYp9mLINio2KfZhNmB2LnZhNiMINmK2KrZhSDYpdi42YfYp9ixINil2LTYudin2LEg2YjYp9mE2KrZiNmC2YEuCmlmICh3aW5kb3cuS2lja0NoYXRUb29sc19Mb2FkZWQpIHsKICAgIC8vINmI2LjZitmB2Kkg2YXYqNiz2LfYqSDZhNmE2KXYtNi52KfYsSDZhNi22YXYp9mGINi42YfZiNix2YfYpyDYrdiq2Ykg2YLYqNmEINiq2K3ZhdmK2YQg2KfZhNmD2YjYryDYqNin2YTZg9in2YXZhAogICAgY29uc3Qgbm90aWZ5SWZMb2FkZWQgPSAobXNnKSA9PiB7CiAgICAgICAgY29uc3QgYyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdraWNrLXRvYXN0LWNvbnRhaW5lcicpIHx8ICgoKSA9PiB7CiAgICAgICAgICAgIGNvbnN0IGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgICAgICAgIGVsLmlkID0gJ2tpY2stdG9hc3QtY29udGFpbmVyJzsKICAgICAgICAgICAgZWwuc3R5bGUuY3NzVGV4dCA9ICdwb3NpdGlvbjpmaXhlZDtib3R0b206MjBweDtyaWdodDoyMHB4O3otaW5kZXg6MTAwMDAyO3BvaW50ZXItZXZlbnRzOm5vbmU7d2lkdGg6MzIwcHg7bWF4LXdpZHRoOjkwJTsnOwogICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGVsKTsKICAgICAgICAgICAgcmV0dXJuIGVsOwogICAgICAgIH0pKCk7CiAgICAgICAgLy8g2YTYpdi42YfYp9ixINil2LTYudin2LEg2YjYp9it2K8g2YHZgti3INi52YbYryDYp9mE2YHYtNmECiAgICAgICAgYy5pbm5lckhUTUwgPSAnJzsgCiAgICAgICAgY29uc3QgVCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgIFQuc3R5bGUuY3NzVGV4dCA9IGBiYWNrZ3JvdW5kOiNkOTMwMjU7Y29sb3I6I2ZmZjtmb250LWZhbWlseTonUm9ib3RvJyxzYW5zLXNlcmlmO2ZvbnQtd2VpZ2h0OjUwMDtwYWRkaW5nOjE0cHggMjVweDtib3JkZXItcmFkaXVzOjE4cHg7Ym94LXNoYWRvdzowIDRweCAxNXB4IHJnYmEoMCwwLDAsLjMpO2ZvbnQtc2l6ZToxNnB4O29wYWNpdHk6MDt0cmFuc2Zvcm06dHJhbnNsYXRlWCgxMjAlKTt0cmFuc2l0aW9uOmFsbCAuNHMgY3ViaWMtYmV6aWVyKC4yNSwxLC41LDEpO21hcmdpbi10b3A6MTBweDtwb3NpdGlvbjpyZWxhdGl2ZTtgOwogICAgICAgIFQuaW5uZXJIVE1MID0gYDxkaXY+JHttc2d9PC9kaXY+YDsKICAgICAgICBjLmFwcGVuZENoaWxkKFQpOwogICAgICAgIHNldFRpbWVvdXQoKCkgPT4geyBULnN0eWxlLm9wYWNpdHkgPSAnMSc7IFQuc3R5bGUudHJhbnNmb3JtID0gJ3RyYW5zbGF0ZVgoMCknIH0sIDEwKTsKICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsgVC5zdHlsZS5vcGFjaXR5ID0gJzAnOyBULnN0eWxlLnRyYW5zZm9ybSA9ICd0cmFuc2xhdGVYKDEyMCUpJzsgVC5hZGRFdmVudExpc3RlbmVyKCd0cmFuc2l0aW9uZW5kJywgKCkgPT4gVC5yZW1vdmUoKSk7IH0sIDQwMDApOwogICAgfTsKICAgIAogICAgY29uc3QgaXNBcmFiaWMgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgna2lja1Rvb2xzTGFuZycpID09PSAnYXInOwogICAgY29uc3QgbWVzc2FnZSA9IGlzQXJhYmljID8gJ9in2YTYo9iv2KfYqSDZhdit2YXZhNipINio2KfZhNmB2LnZhC4g2YTZhiDZitiq2YUg2KXYudin2K/YqSDYqti02LrZitmE2YfYpy4nIDogJ1Rvb2wgYWxyZWFkeSBsb2FkZWQuIFdpbGwgbm90IHJlaW5pdGlhbGl6ZS4nOwoKICAgIG5vdGlmeUlmTG9hZGVkKG1lc3NhZ2UpOwogICAgcmV0dXJuOyAvLyAqKtil2YrZgtin2YEg2KfZhNiq2YbZgdmK2LAqKgp9CgovLyDYqti52YrZitmGINin2YTZhdiq2LrZitixINin2YTYudin2YUg2KjYudivINin2YTYqtij2YPYryDZhdmGINi52K/ZhSDZiNis2YjYr9mHINmF2LPYqNmC2YvYpwp3aW5kb3cuS2lja0NoYXRUb29sc19Mb2FkZWQgPSB0cnVlOwoKdHJ5ewogICAgY29uc3QgU0NSSVBUX1ZFUlNJT04gPSAnNjMuMi5QUk8nLCAKICAgICAgICAgIFJBUElEX01PREVfVEhSRVNIT0xEID0gNTAsIAogICAgICAgICAgb3JpZ2luYWxGZXRjaCA9IHdpbmRvdy5mZXRjaDsKCiAgICBjb25zdCB0cmFuc2xhdGlvbnMgPSB7CiAgICAgICAgZW46IHsKICAgICAgICAgICAgZmFpbFN0cmVhbTogJ0ZhaWxlZDogRW5zdXJlIHlvdSBhcmUgaW4gYSBsaXZlIHN0cmVhbS4nLAogICAgICAgICAgICBpbmZvU3VjY2VzczogJ0NoYW5uZWwgaW5mb3JtYXRpb24gc3VjY2Vzc2Z1bGx5IHJldHJpZXZlZC4nLAogICAgICAgICAgICBpbmZvRmFpbDogJ0ZhaWxlZCB0byByZXRyaWV2ZSBjaGFubmVsIGluZm9ybWF0aW9uLicsCiAgICAgICAgICAgIGp1dHN1U3RvcHBlZDogJ1Byb2Nlc3MgdGVybWluYXRlZC4nLAogICAgICAgICAgICB0dXJib09uOiAnSW50ZW5zZSBNb2RlIGFjdGl2YXRlZC4nLAogICAgICAgICAgICBqdXRzdU9uOiAnUHJvY2VzcyBhY3RpdmF0ZWQuJywKICAgICAgICAgICAgc2F2ZUN1cnJlbnRTY3JvbGw6ICdTYXZlIEN1cnJlbnQgQ29uZmlndXJhdGlvbicsCiAgICAgICAgICAgIGVudGVyTmFtZVBsYWNlaG9sZGVyOiAnRW50ZXIgY29uZmlndXJhdGlvbiBuYW1lJywKICAgICAgICAgICAgc2F2ZVNjcm9sbEJ0bjogJ1NhdmUgQ29uZmlndXJhdGlvbicsCiAgICAgICAgICAgIHNjcm9sbFNhdmVkU3VjY2VzczogJ1N1Y2Nlc3NmdWxseSBzYXZlZCBcJ3tuYW1lfVwnLicsCiAgICAgICAgICAgIGNvbmZpcm1EZWxldGlvbjogJ0NvbmZpcm0gRGVsZXRpb24nLAogICAgICAgICAgICBjb25maXJtRGVsZXRlTXNnOiAnQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGRlbGV0ZSB0aGlzIGNvbmZpZ3VyYXRpb24/PGJyPjxiIHN0eWxlPVwnY29sb3I6dmFyKC0tbTMtcHJpbWFyeSlcJz57bmFtZX08L2I+JywKICAgICAgICAgICAgeWVzOiAnWWVzJywKICAgICAgICAgICAgbm86ICdObycsCiAgICAgICAgICAgIHNjcm9sbExvYWRlZDogJ0xvYWRlZCBcJ3tuYW1lfVwnLicsCiAgICAgICAgICAgIHNldHRpbmdzTG9hZGVkOiAnQ29uZmlndXJhdGlvbiBsb2FkZWQgc3VjY2Vzc2Z1bGx5LicsCiAgICAgICAgICAgIG5vU2F2ZWRTY3JvbGxzOiAnTm8gc2F2ZWQgY29uZmlndXJhdGlvbnMuJywKICAgICAgICAgICAgbG9hZDogJ0xvYWQnLAogICAgICAgICAgICBkZWxldGU6ICdEZWxldGUnLAogICAgICAgICAgICBpbnRlcmFjdGlvblRhYjogJ0ludGVyYWN0aW9uJywKICAgICAgICAgICAgc2Nyb2xsc1RhYjogJ1NhdmVkIENvbmZpZ3VyYXRpb25zJywKICAgICAgICAgICAgZW50ZXJNZXNzYWdlTGFiZWw6ICdFbnRlciBNZXNzYWdlOicsCiAgICAgICAgICAgIGNvdW50TGFiZWw6ICdDb3VudDonLAogICAgICAgICAgICBkZWxheUxhYmVsOiAnRGVsYXkgKG1zKTonLAogICAgICAgICAgICBpbmZpbml0ZVNlbmRMYWJlbDogJ0luZmluaXRlIFNlbmQnLAogICAgICAgICAgICBzYXZlZFNjcm9sbHNUaXRsZTogJ1NhdmVkIENvbmZpZ3VyYXRpb25zJywKICAgICAgICAgICAgc2F2ZTogJ1NhdmUnLAogICAgICAgICAgICBjbG9zZTogJ0Nsb3NlJywKICAgICAgICAgICAgc3RhcnQ6ICdTdGFydCcsCiAgICAgICAgICAgIHN0b3A6ICdTdG9wJywKICAgICAgICAgICAgZW50ZXJTdHJlYW1GaXJzdDogJ1BsZWFzZSBlbnRlciBhIGxpdmUgc3RyZWFtIGZpcnN0LicsCiAgICAgICAgICAgIHdyaXRlTWVzc2FnZUhpbnQ6ICdDbGljayB0aGUgcGVuY2lsIHRvIHdyaXRlIHlvdXIgbWVzc2FnZSDinI/vuI8nLAogICAgICAgICAgICBsYW5ndWFnZVRvZ2dsZTogJ9in2YTYudix2KjZitipJywKICAgICAgICAgICAgd2lkZ2V0VGl0bGU6ICdDb250cm9sIFBhbmVsJywKICAgICAgICAgICAgaGVscFRpdGxlOiAnVG9vbCBHdWlkZScsCiAgICAgICAgICAgIGhlbHBNZXNzYWdlVGl0bGU6ICdNZXNzYWdlIENvbXBvc2VyJywKICAgICAgICAgICAgaGVscE1lc3NhZ2VEZXNjOiAnVHlwZSB5b3VyIG1lc3NhZ2UocykgaGVyZS4gPGI+RWFjaCBuZXcgbGluZSB3aWxsIGJlIHNlbnQgYXMgYSBzZXBhcmF0ZSBtZXNzYWdlLjwvYj4gPGJyPjxicj5UaGUgXCdDb3VudFwnIGJlbG93IGRldGVybWluZXMgaG93IG1hbnkgdGltZXMgdGhlIGVudGlyZSBzZXF1ZW5jZSBvZiBsaW5lcyB3aWxsIGJlIHJlcGVhdGVkLicsCiAgICAgICAgICAgIGhlbHBEZWxheVRpdGxlOiAnU3BlZWQgKEludGVyLU1lc3NhZ2UgRGVsYXkpJywKICAgICAgICAgICAgaGVscERlbGF5RGVzYzogJ1RoaXMgb3B0aW9uIGNvbnRyb2xzIHRoZSBzcGVlZCBieSBzZXR0aW5nIHRoZSBkZWxheSBiZXR3ZWVuIGVhY2ggbWVzc2FnZS4gSXQgaXMgbWVhc3VyZWQgaW4gPGI+bWlsbGlzZWNvbmRzIChtcyk8L2I+Ljxicj48dWw+PGxpPkZvciBhIGRlbGF5IG9mIDxiPjEgc2Vjb25kPC9iPiwgdXNlIDxiPjEwMDA8L2I+LjwvbGk+PGxpPkZvciBhIGRlbGF5IG9mIDxiPjUgc2Vjb25kczwvYj4sIHVzZSA8Yj41MDAwPC9iPi48L2xpPjxsaT5Gb3IgdmVyeSA8Yj5yYXBpZDwvYj4gc2VuZGluZyAodHdpY2UgcGVyIHNlY29uZCksIHVzZSA8Yj41MDA8L2I+LjwvbGk+PC91bD48Yj5SdWxlOjwvYj4gQSBoaWdoZXIgbnVtYmVyIG1lYW5zIHNsb3dlciBzZW5kaW5nLiBBIGxvd2VyIG51bWJlciBtZWFucyBmYXN0ZXIgc2VuZGluZy4nLAogICAgICAgICAgICBoZWxwVHVyYm9UaXRsZTogJ0ludGVuc2UgTW9kZSAoUmFwaWQgU2VuZGluZyknLAogICAgICAgICAgICBoZWxwVHVyYm9EZXNjOiAnRm9yIHRoZSBtYXhpbXVtIHNlbmRpbmcgcmF0ZSwgZW50ZXIgYSB2ZXJ5IHNtYWxsIG51bWJlciAoZS5nLiwgMSkuIFRoaXMgYWN0aXZhdGVzICoqSW50ZW5zZSBNb2RlIChSYXBpZCBCYXRjaCBTZW5kaW5nKSoqLjxicj48YnI+PGI+Tm90ZTo8L2I+IElmIHRoZSBzdHJlYW1lciBoYXMgXCdTbG93IE1vZGVcJyBhY3RpdmUgaW4gdGhlaXIgY2hhdCwgSW50ZW5zZSBNb2RlIG1heSBub3QgcGVyZm9ybSBhcyBleHBlY3RlZC4nLAogICAgICAgICAgICBsZWFybkFib3V0VG9vbDogJ0NsaWNrIGhlcmUgZm9yIHRoZSB0b29sIGd1aWRlIScKICAgICAgICB9LAogICAgICAgIGFyOiB7CiAgICAgICAgICAgIGZhaWxTdHJlYW06ICfZgdi02YQ6INiq2KPZg9ivINij2YbZgyDZgdmKINio2Ksg2YXYqNin2LTYsS4nLAogICAgICAgICAgICBpbmZvU3VjY2VzczogJ9iq2YUg2KfYs9iq2LHYr9in2K8g2YXYudmE2YjZhdin2Kog2KfZhNmC2YbYp9ipINio2YbYrNin2K0uJywKICAgICAgICAgICAgaW5mb0ZhaWw6ICfZgdi02YQg2KfYs9iq2LHYr9in2K8g2YXYudmE2YjZhdin2Kog2KfZhNmC2YbYp9ipLicsCiAgICAgICAgICAgIGp1dHN1U3RvcHBlZDogJ9iq2YUg2KXZhtmH2KfYoSDYp9mE2LnZhdmE2YrYqS4nLAogICAgICAgICAgICB0dXJib09uOiAn2KrZhSDYqtmB2LnZitmEINin2YTZiNi22Lkg2KfZhNmF2YPYq9mBLicsCiAgICAgICAgICAgIGp1dHN1T246ICfYqtmFINiq2YHYudmK2YQg2KfZhNi52YXZhNmK2KkuJywKICAgICAgICAgICAgc2F2ZUN1cnJlbnRTY3JvbGw6ICfYrdmB2Lgg2KfZhNil2LnYr9in2K8g2KfZhNit2KfZhNmKJywKICAgICAgICAgICAgZW50ZXJOYW1lUGxhY2Vob2xkZXI6ICfYp9mD2KrYqCDYp9iz2YUg2KfZhNil2LnYr9in2K8g2YfZhtinJywKICAgICAgICAgICAgc2F2ZVNjcm9sbEJ0bjogJ9it2YHYuCDYp9mE2KXYudiv2KfYrycsCiAgICAgICAgICAgIHNjcm9sbFNhdmVkU3VjY2VzczogJ9iq2YUg2K3Zgdi4IFwne25hbWV9XCcg2KjZhtis2KfYrS4nLAogICAgICAgICAgICBjb25maXJtRGVsZXRpb246ICfYqtij2YPZitivINin2YTYrdiw2YEnLAogICAgICAgICAgICBjb25maXJtRGVsZXRlTXNnOiAn2YfZhCDYo9mG2Kog2YXYqtij2YPYryDZhdmGINit2LDZgSDZh9iw2Kcg2KfZhNil2LnYr9in2K/Ynzxicj48YiBzdHlsZT1cJ2NvbG9yOnZhcigtLW0zLXByaW1hcnkpXCc+e25hbWV9PC9iPicsCiAgICAgICAgICAgIHllczogJ9mG2LnZhScsCiAgICAgICAgICAgIG5vOiAn2YTYpycsCiAgICAgICAgICAgIHNjcm9sbExvYWRlZDogJ9iq2YUg2KrYrdmF2YrZhCBcJ3tuYW1lfVwnJywKICAgICAgICAgICAgc2V0dGluZ3NMb2FkZWQ6ICfYqtmFINiq2K3ZhdmK2YQg2KfZhNil2LnYr9in2K/Yp9iqINio2YbYrNin2K0uJywKICAgICAgICAgICAgbm9TYXZlZFNjcm9sbHM6ICfZhNinINiq2YjYrNivINil2LnYr9in2K/Yp9iqINmF2K3ZgdmI2LjYqS4nLAogICAgICAgICAgICBsb2FkOiAn2KXYs9iq2K/Yudin2KEnLCAKICAgICAgICAgICAgZGVsZXRlOiAn2K3YsNmBJywKICAgICAgICAgICAgaW50ZXJhY3Rpb25UYWI6ICfYp9mE2KrZgdin2LnZhCcsCiAgICAgICAgICAgIHNjcm9sbHNUYWI6ICfYp9mE2KXYudiv2KfYr9in2Kog2KfZhNmF2K3ZgdmI2LjYqScsCiAgICAgICAgICAgIGVudGVyTWVzc2FnZUxhYmVsOiAn2KXZg9iq2Kgg2LHYs9in2YTYqTonLAogICAgICAgICAgICBjb3VudExhYmVsOiAn2KfZhNi52K/YrzonLAogICAgICAgICAgICBkZWxheUxhYmVsOiAn2KfZhNiz2LHYudipIChtcyk6JywKICAgICAgICAgICAgaW5maW5pdGVTZW5kTGFiZWw6ICfYpdix2LPYp9mEINmE2Kcg2YbZh9in2KbZiicsCiAgICAgICAgICAgIHNhdmVkU2Nyb2xsc1RpdGxlOiAn2KfZhNil2LnYr9in2K/Yp9iqINin2YTZhdit2YHZiNi42KknLAogICAgICAgICAgICBzYXZlOiAn2K3Zgdi4JywKICAgICAgICAgICAgY2xvc2U6ICfYpdi62YTYp9mCJywKICAgICAgICAgICAgc3RhcnQ6ICfYqti02LrZitmEJywKICAgICAgICAgICAgc3RvcDogJ9il2YrZgtin2YEnLAogICAgICAgICAgICBlbnRlclN0cmVhbUZpcnN0OiAn2KfZhNix2KzYp9ihINin2YTYr9iu2YjZhCDYpdmE2Ykg2KjYqyDZhdio2KfYtNixINij2YjZhNin2YshJywKICAgICAgICAgICAgd3JpdGVNZXNzYWdlSGludDogJ9il2LbYuti3INi52YTZiSDYp9mE2YLZhNmFINmIINin2YPYqtioINix2LPYp9mE2KrZgyDinI/vuI8nLAogICAgICAgICAgICBsYW5ndWFnZVRvZ2dsZTogJ0VuZ2xpc2gnLAogICAgICAgICAgICB3aWRnZXRUaXRsZTogJ9mE2YjYrdipINin2YTYqtit2YPZhScsCiAgICAgICAgICAgIGhlbHBUaXRsZTogJ9iv2YTZitmEINin2YTYo9iv2KfYqScsCiAgICAgICAgICAgIGhlbHBNZXNzYWdlVGl0bGU6ICfZhdmP2YbYtNimINin2YTYsdiz2KfYptmEJywKICAgICAgICAgICAgaGVscE1lc3NhZ2VEZXNjOiAn2KfZg9iq2Kgg2LHYs9in2YTYqtmDICjYo9mIINix2LPYp9im2YTZgykg2YfZhtinLiA8Yj7Zg9mEINiz2LfYsSDYrNiv2YrYryDYqtmD2KrYqNmHINiz2YrYqtmFINil2LHYs9in2YTZhyDZg9ix2LPYp9mE2Kkg2YXZhtmB2LXZhNipLjwvYj48YnI+PGJyPlwn2KfZhNi52K/Yr1wnINmB2Yog2KfZhNij2LPZgdmEINmK2K3Yr9ivINi52K/YryDZhdix2KfYqiDYqtmD2LHYp9ixINil2LHYs9in2YQg2YXYrNmF2YjYudipINin2YTYo9iz2LfYsSDYqNin2YTZg9in2YXZhC4nLAogICAgICAgICAgICBoZWxwRGVsYXlUaXRsZTogJ9in2YTYs9ix2LnYqSAo2KfZhNiq2KPYrtmK2LEg2KjZitmGINin2YTYsdiz2KfYptmEKScsCiAgICAgICAgICAgIGhlbHBEZWxheURlc2M6ICfZitiq2K3Zg9mFINmH2LDYpyDYp9mE2K7Zitin2LEg2KjYp9mE2LPYsdi52Kkg2LnYqNixINiq2K3Yr9mK2K8g2YHYqtix2Kkg2KfZhNiq2KPYrtmK2LEg2KjZitmGINmD2YQg2LHYs9in2YTYqSDZiNij2K7YsdmJLiDZitiq2YUg2K3Ys9in2Kgg2KfZhNmI2YLYqiDYqNmAIDxiPtin2YTZhdmE2YTZiiDYq9in2YbZitipIChtcyk8L2I+Ljxicj48dWw+PGxpPtmE2KrYo9iu2YrYsSA8Yj7Yq9in2YbZitipINmI2KfYrdiv2Kk8L2I+2Iwg2KfZg9iq2KggPGI+MTAwMDwvYj4uPC9saT48bGk+2YTYqtij2K7ZitixIDxiPjUg2KvZiNin2YbZjTwvYj7YjCDYp9mD2KrYqCA8Yj41MDAwPC9iPi48L2xpPjxsaT7ZhNil2LHYs9in2YQgPGI+2LPYsdmK2Lkg2KzYr9in2Ys8L2I+ICjZhdix2KrZitmGINmB2Yog2KfZhNir2KfZhtmK2Kkp2Iwg2KfZg9iq2KggPGI+NTAwPC9iPi48L2xpPjwvdWw+PGI+2KfZhNmC2KfYudiv2Kk6PC9iPiDYsdmC2YUg2YPYqNmK2LEgPSDYpdix2LPYp9mEINij2KjYt9ijLiDYsdmC2YUg2LXYutmK2LEgPSDYpdix2LPYp9mEINij2LPYsdi5LicsCiAgICAgICAgICAgIGhlbHBUdXJib1RpdGxlOiAn2KfZhNmI2LbYuSDYp9mE2YXZg9ir2YEgKNil2LHYs9in2YQg2LPYsdmK2LkpJywKICAgICAgICAgICAgaGVscFR1cmJvRGVzYzogJ9mE2YTYrdi12YjZhCDYudmE2Ykg2KPZgti12Ykg2LPYsdi52Kkg2YXZhdmD2YbYqdiMINij2K/YrtmEINix2YLZhdmL2Kcg2LXYutmK2LHZi9inINis2K/Zi9inICjZhdir2YQgMSkuINmH2LDYpyDZitmB2LnZkdmEICoq2KfZhNmI2LbYuSDYp9mE2YXZg9ir2YEgKNin2YTYpdix2LPYp9mEINin2YTZhdis2YXZkdi5INin2YTYs9ix2YrYuSkqKi48YnI+PGJyPjxiPtmF2YTYp9it2LjYqTo8L2I+INil2LDYpyDZg9in2YYg2LXYp9it2Kgg2KfZhNio2Ksg2YXZgdi52YTZi9inIFwn2KfZhNmI2LbYuSDYp9mE2KjYt9mK2KFcJyDZgdmKINin2YTYr9ix2K/YtNip2Iwg2YHZgtivINmE2Kcg2YrYudmF2YQg2KfZhNmI2LbYuSDYp9mE2YXZg9ir2YEg2YPZhdinINmH2Ygg2YXYqtmI2YLYuS4nLAogICAgICAgICAgICBsZWFybkFib3V0VG9vbDogJ9il2LbYuti3INmH2YbYpyDZhNiv2YTZitmEINin2YTYo9iv2KfYqSEnCiAgICAgICAgfQogICAgfTsKCiAgICBsZXQgY3VycmVudExhbmd1YWdlID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2tpY2tUb29sc0xhbmcnKSB8fCBudWxsOwogICAgbGV0IGhlbHBCdWJibGVJbnRlcnZhbCA9IG51bGw7CgogICAgY29uc3QgZ2V0VGV4dCA9IChrZXksIHBhcmFtcyA9IHt9KSA9PiB7CiAgICAgICAgbGV0IHRleHQgPSAodHJhbnNsYXRpb25zW2N1cnJlbnRMYW5ndWFnZV0gfHwgdHJhbnNsYXRpb25zLmVuKVtrZXldIHx8IGtleTsKICAgICAgICBmb3IgKGNvbnN0IHAgaW4gcGFyYW1zKSB7CiAgICAgICAgICAgIHRleHQgPSB0ZXh0LnJlcGxhY2UoYHske3B9fWAsIHBhcmFtc1twXSk7CiAgICAgICAgfQogICAgICAgIHJldHVybiB0ZXh0OwogICAgfTsKCiAgICBsZXQgY2hhdHJvb21JbmZvID0ge30sIAogICAgICAgIHNlbmRpbmdQcm9jZXNzID0geyBhY3RpdmU6IGZhbHNlLCBjbGVhbnVwOiAoKSA9PiB7fSB9LAogICAgICAgIHNhdmVkU2Nyb2xscyA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2tpY2tOYXJ1dG9TY3JvbGxzJykpIHx8IFtdOwoKICAgIGNvbnN0IFRIRU1FX0FTU0VUUyA9IHsgZm9udF91cmw6ICdodHRwczovL2ZvbnRzLmdvb2dsZWFwaXMuY29tL2NzczI/ZmFtaWx5PVJvYm90bzp3Z2h0QDQwMDs1MDA7NzAwJmRpc3BsYXk9c3dhcCcgfTsKCiAgICBhc3luYyBmdW5jdGlvbiBmaW5kQ2hhdHJvb21JbmZvKGlzU2lsZW50ID0gdHJ1ZSkgewogICAgICAgIGNvbnN0IHMgPSB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUuc3BsaXQoJy8nKVsxXTsKICAgICAgICBpZiAoIXMgfHwgcy5pbmNsdWRlcygnLycpKSB7CiAgICAgICAgICAgIGlmICghaXNTaWxlbnQgJiYgIWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdraWNrLWp1dHN1LXdpZGdldCcpKSBzaG93S2lja05vdGlmaWNhdGlvbihnZXRUZXh0KCdmYWlsU3RyZWFtJykpOwogICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgICAgIHRyeSB7CiAgICAgICAgICAgIGNvbnN0IHIgPSBhd2FpdCBvcmlnaW5hbEZldGNoKGBodHRwczovL2tpY2suY29tL2FwaS92Mi9jaGFubmVscy8ke3N9YCksCiAgICAgICAgICAgICAgICAgIGQgPSBhd2FpdCByLmpzb24oKTsKICAgICAgICAgICAgaWYgKGQ/LmNoYXRyb29tPy5pZCkgewogICAgICAgICAgICAgICAgY2hhdHJvb21JbmZvID0gZC5jaGF0cm9vbTsKICAgICAgICAgICAgICAgIGlmICghaXNTaWxlbnQpIHNob3dLaWNrTm90aWZpY2F0aW9uKGdldFRleHQoJ2luZm9TdWNjZXNzJykpOwogICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgIH0KICAgICAgICB9IGNhdGNoIChlKSB7fQogICAgICAgIGlmICghaXNTaWxlbnQgJiYgIWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdraWNrLWp1dHN1LXdpZGdldCcpKSBzaG93S2lja05vdGlmaWNhdGlvbihnZXRUZXh0KCdpbmZvRmFpbCcpKTsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICB9CgogICAgYXN5bmMgZnVuY3Rpb24gc2VuZE1lc3NhZ2UobSkgewogICAgICAgIGlmICghd2luZG93LmJlYXJlclRva2VuR2xvYmFsIHx8ICFjaGF0cm9vbUluZm8uaWQpIHsKICAgICAgICAgICAgY29uc3QgZiA9IGF3YWl0IGZpbmRDaGF0cm9vbUluZm8odHJ1ZSk7CiAgICAgICAgICAgIGlmICghZikgcmV0dXJuOwogICAgICAgIH0KICAgICAgICBpZiAoIW0gfHwgdHlwZW9mIG0gIT09ICdzdHJpbmcnIHx8ICFtLnRyaW0oKSkgcmV0dXJuOwoKICAgICAgICB0cnkgewogICAgICAgICAgICBhd2FpdCBvcmlnaW5hbEZldGNoKGBodHRwczovL2tpY2suY29tL2FwaS92Mi9tZXNzYWdlcy9zZW5kLyR7Y2hhdHJvb21JbmZvLmlkfWAsIHsKICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLAogICAgICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgICAgICAgIGFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nLAogICAgICAgICAgICAgICAgICAgICdjb250ZW50LXR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsCiAgICAgICAgICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogYEJlYXJlciAke3dpbmRvdy5iZWFyZXJUb2tlbkdsb2JhbH1gCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBjb250ZW50OiBtLCB0eXBlOiAnbWVzc2FnZScgfSkKICAgICAgICAgICAgfSk7CiAgICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgICAgICBjb25zb2xlLmVycm9yKGUpOwogICAgICAgIH0KICAgIH0KCiAgICBmdW5jdGlvbiBzdG9wQ3VycmVudFByb2Nlc3MoKSB7CiAgICAgICAgaWYgKHNlbmRpbmdQcm9jZXNzLmFjdGl2ZSkgewogICAgICAgICAgICBzZW5kaW5nUHJvY2Vzcy5hY3RpdmUgPSBmYWxzZTsKICAgICAgICAgICAgaWYgKHR5cGVvZiBzZW5kaW5nUHJvY2Vzcy5jbGVhbnVwID09PSAnZnVuY3Rpb24nKSBzZW5kaW5nUHJvY2Vzcy5jbGVhbnVwKCk7CiAgICAgICAgICAgIHNob3dLaWNrTm90aWZpY2F0aW9uKGdldFRleHQoJ2p1dHN1U3RvcHBlZCcpKTsKICAgICAgICB9CiAgICB9CgogICAgYXN5bmMgZnVuY3Rpb24gc3RhcnRTZW5kaW5nUHJvY2VzcyhsaW5lcywgY3ljbGVzLCBkZWxheSkgewogICAgICAgIGlmIChzZW5kaW5nUHJvY2Vzcy5hY3RpdmUpIHsKICAgICAgICAgICAgc3RvcEN1cnJlbnRQcm9jZXNzKCk7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgY29uc3Qgd2lkZ2V0QnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2p1dHN1LXRvZ2dsZS1idG4nKTsKICAgICAgICBpZiAoIXdpZGdldEJ1dHRvbikgcmV0dXJuOwogICAgICAgIGNvbnN0IGNvdW50ZXJFbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdqdXRzdS1jb3VudGVyJyk7CgogICAgICAgIHNlbmRpbmdQcm9jZXNzLmFjdGl2ZSA9IHRydWU7CiAgICAgICAgc2VuZGluZ1Byb2Nlc3MuY2xlYW51cCA9ICgpID0+IHsKICAgICAgICAgICAgd2lkZ2V0QnV0dG9uLnRleHRDb250ZW50ID0gZ2V0VGV4dCgnc3RhcnQnKTsKICAgICAgICAgICAgd2lkZ2V0QnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpOwogICAgICAgICAgICBjb3VudGVyRWwuc3R5bGUuZGlzcGxheSA9ICdub25lJzsKICAgICAgICAgICAgc2VuZGluZ1Byb2Nlc3MuYWN0aXZlID0gZmFsc2U7CiAgICAgICAgfTsKCiAgICAgICAgd2lkZ2V0QnV0dG9uLnRleHRDb250ZW50ID0gZ2V0VGV4dCgnc3RvcCcpOwogICAgICAgIHdpZGdldEJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTsKICAgICAgICBjb3VudGVyRWwuc3R5bGUuZGlzcGxheSA9ICdpbmxpbmUnOwoKICAgICAgICBjb25zdCBpc1R1cmJvID0gZGVsYXkgPCBSQVBJRF9NT0RFX1RIUkVTSE9MRDsKICAgICAgICBpZiAoaXNUdXJibykgc2hvd0tpY2tOb3RpZmljYXRpb24oZ2V0VGV4dCgndHVyYm9PbicpKTsKICAgICAgICBlbHNlIHNob3dLaWNrTm90aWZpY2F0aW9uKGdldFRleHQoJ2p1dHN1T24nKSk7CgogICAgICAgIGNvbnN0IHRvdGFsTWVzc2FnZXNUb1NlbmQgPSBsaW5lcy5sZW5ndGggKiBjeWNsZXM7CiAgICAgICAgbGV0IG1lc3NhZ2VzU2VudFNvRmFyID0gMDsKCiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjeWNsZXM7IGkrKykgewogICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGxpbmVzLmxlbmd0aDsgaisrKSB7CiAgICAgICAgICAgICAgICBpZiAoIXNlbmRpbmdQcm9jZXNzLmFjdGl2ZSkgYnJlYWs7CgogICAgICAgICAgICAgICAgY29uc3QgbGluZSA9IGxpbmVzW2pdOwogICAgICAgICAgICAgICAgY291bnRlckVsLnRleHRDb250ZW50ID0gYFske21lc3NhZ2VzU2VudFNvRmFyICsgMX0vJHt0b3RhbE1lc3NhZ2VzVG9TZW5kID09PSBJbmZpbml0eSA/ICfiiJ4nIDogdG90YWxNZXNzYWdlc1RvU2VuZH1dYDsKCiAgICAgICAgICAgICAgICBpZiAoaXNUdXJibykgewogICAgICAgICAgICAgICAgICAgIHNlbmRNZXNzYWdlKGxpbmUpOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBhd2FpdCBzZW5kTWVzc2FnZShsaW5lKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBtZXNzYWdlc1NlbnRTb0ZhcisrOwoKICAgICAgICAgICAgICAgIGlmIChkZWxheSA+IDAgJiYgbWVzc2FnZXNTZW50U29GYXIgPCB0b3RhbE1lc3NhZ2VzVG9TZW5kKSBhd2FpdCBuZXcgUHJvbWlzZShyID0+IHNldFRpbWVvdXQociwgZGVsYXkpKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoIXNlbmRpbmdQcm9jZXNzLmFjdGl2ZSkgYnJlYWs7CiAgICAgICAgfQoKICAgICAgICBpZiAoc2VuZGluZ1Byb2Nlc3MuYWN0aXZlKSBzdG9wQ3VycmVudFByb2Nlc3MoKTsKICAgIH0KCiAgICBmdW5jdGlvbiBjcmVhdGVNb2RhbChjb250ZW50LCBpc0lucHV0TW9kYWwgPSBmYWxzZSkgewogICAgICAgIGNvbnN0IG92ZXJsYXkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgICBvdmVybGF5LnN0eWxlLmNzc1RleHQgPSAncG9zaXRpb246Zml4ZWQ7dG9wOjA7bGVmdDowO3dpZHRoOjEwMCU7aGVpZ2h0OjEwMCU7YmFja2dyb3VuZDpyZ2JhKDAsMCwwLDAuNik7YmFja2Ryb3AtZmlsdGVyOmJsdXIoNXB4KTt6LWluZGV4OjEwMDAwMDtvcGFjaXR5OjA7dHJhbnNpdGlvbjpvcGFjaXR5IC4zcyBlYXNlO2Rpc3BsYXk6ZmxleDthbGlnbi1pdGVtczpjZW50ZXI7anVzdGlmeS1jb250ZW50OmNlbnRlcjsnOwogICAgICAgIAogICAgICAgIGNvbnN0IG1vZGFsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgICAgbW9kYWwuY2xhc3NOYW1lID0gJ2tpY2stdWktY2FyZCc7CiAgICAgICAgbW9kYWwuc3R5bGUuY3NzVGV4dCArPSBgYW5pbWF0aW9uOnNjYWxlSW4gLjNzIGVhc2Utb3V0O3dpZHRoOjkwJTttYXgtd2lkdGg6JHtpc0lucHV0TW9kYWwgPyAnNDAwcHgnIDogJzUwMHB4J307cGFkZGluZzoke2lzSW5wdXRNb2RhbCA/ICczMHB4JyA6ICcyMHB4J307bWF4LWhlaWdodDo4MHZoO2Rpc3BsYXk6ZmxleDtmbGV4LWRpcmVjdGlvbjpjb2x1bW47YDsKICAgICAgICBtb2RhbC5pbm5lckhUTUwgPSBjb250ZW50OwoKICAgICAgICBvdmVybGF5LmFwcGVuZENoaWxkKG1vZGFsKTsKICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKG92ZXJsYXkpOwogICAgICAgIHNldFRpbWVvdXQoKCkgPT4gb3ZlcmxheS5zdHlsZS5vcGFjaXR5ID0gJzEnLCAxMCk7CiAgICAgICAgcmV0dXJuIHsgb3ZlcmxheSwgbW9kYWwgfTsKICAgIH0KCiAgICBmdW5jdGlvbiBzaG93TGFuZ3VhZ2VTZWxlY3Rpb25Nb2RhbCgpIHsKICAgICAgICBjb25zdCBjb250ZW50ID0gYDxoNCBzdHlsZT0ndGV4dC1hbGlnbjpjZW50ZXI7Y29sb3I6dmFyKC0tbTMtcHJpbWFyeSk7bWFyZ2luOjAgMCA1cHggMDsnPkNob29zZSBZb3VyIExhbmd1YWdlPC9oND48cCBzdHlsZT0ndGV4dC1hbGlnbjpjZW50ZXI7bWFyZ2luOjAgMCAyMHB4IDA7Jz7Yp9iu2KrYsSDZhNi62KrZgzwvcD48ZGl2IHN0eWxlPSdkaXNwbGF5OmZsZXg7ZmxleC1kaXJlY3Rpb246Y29sdW1uO2dhcDoxMHB4Oyc+PGJ1dHRvbiBpZD0nbGFuZy1zZWxlY3QtZW4nIGNsYXNzPSdraWNrLXVpLWJ0bic+RW5nbGlzaDwvYnV0dG9uPjxidXR0b24gaWQ9J2xhbmctc2VsZWN0LWFyJyBjbGFzcz0na2ljay11aS1idG4nPtin2YTYudix2KjZitipPC9idXR0b24+PC9kaXY+YDsKICAgICAgICBjb25zdCB7IG92ZXJsYXkgfSA9IGNyZWF0ZU1vZGFsKGNvbnRlbnQsIGZhbHNlKTsKCiAgICAgICAgY29uc3Qgc2VsZWN0TGFuZyA9IGxhbmcgPT4gewogICAgICAgICAgICBjdXJyZW50TGFuZ3VhZ2UgPSBsYW5nOwogICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgna2lja1Rvb2xzTGFuZycsIGN1cnJlbnRMYW5ndWFnZSk7CiAgICAgICAgICAgIHVwZGF0ZVVJVGV4dCgpOwogICAgICAgICAgICByZW5kZXJTYXZlZFNjcm9sbHMoKTsKICAgICAgICAgICAgb3ZlcmxheS5yZW1vdmUoKTsKICAgICAgICAgICAgdG9nZ2xlU2V0dGluZ3NQYW5lbCgpOwogICAgICAgIH07CgogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsYW5nLXNlbGVjdC1lbicpLm9uY2xpY2sgPSAoKSA9PiBzZWxlY3RMYW5nKCdlbicpOwogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsYW5nLXNlbGVjdC1hcicpLm9uY2xpY2sgPSAoKSA9PiBzZWxlY3RMYW5nKCdhcicpOwogICAgfQoKICAgIGZ1bmN0aW9uIHNob3dIZWxwTW9kYWwoKSB7CiAgICAgICAgc3RvcEhlbHBCdWJibGVBbmltYXRpb24oKTsKICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgna2lja1Rvb2xIZWxwQnViYmxlU2VlbicsICd0cnVlJyk7CiAgICAgICAgY29uc3QgY29udGVudCA9IGA8aDQgc3R5bGU9J3RleHQtYWxpZ246Y2VudGVyO2NvbG9yOnZhcigtLW0zLXByaW1hcnkpO21hcmdpbi10b3A6MDsnIGRhdGEtbGFuZy1rZXk9J2hlbHBUaXRsZSc+JHtnZXRUZXh0KCdoZWxwVGl0bGUnKX08L2g0PjxkaXYgc3R5bGU9J2ZsZXg6MTtvdmVyZmxvdy15OmF1dG87cGFkZGluZy1yaWdodDoxMHB4Oyc+PGRpdiBjbGFzcz0naGVscC1zZWN0aW9uJz48aDUgZGF0YS1sYW5nLWtleT0naGVscE1lc3NhZ2VUaXRsZSc+JHtnZXRUZXh0KCdoZWxwTWVzc2FnZVRpdGxlJyl9PC9oNT48cCBkYXRhLWxhbmcta2V5PSdoZWxwTWVzc2FnZURlc2MnPiR7Z2V0VGV4dCgnaGVscE1lc3NhZ2VEZXNjJyl9PC9wPjwvZGl2PjxkaXYgY2xhc3M9J2hlbHAtc2VjdGlvbic+PGg1IGRhdGEtbGFuZy1rZXk9J2hlbHBEZWxheVRpdGxlJz4ke2dldFRleHQoJ2hlbHBEZWxheVRpdGxlJyl9PC9oNT48cCBkYXRhLWxhbmcta2V5PSdoZWxwRGVsYXlEZXNjJz4ke2dldFRleHQoJ2hlbHBEZWxheURlc2MnKX08L3A+PC9kaXY+PGRpdiBjbGFzcz0naGVscC1zZWN0aW9uJz48aDUgZGF0YS1sYW5nLWtleT0naGVscFR1cmJvVGl0bGUnPiR7Z2V0VGV4dCgnaGVscFR1cmJvVGl0bGUnKX08L2g1PjxwIGRhdGEtbGFuZy1rZXk9J2hlbHBUdXJib0Rlc2MnPiR7Z2V0VGV4dCgnaGVscFR1cmJvRGVzYycpfTwvcD48L2Rpdj48L2Rpdj48YnV0dG9uIGlkPSdoZWxwLWNsb3NlLWJ0bicgY2xhc3M9J2tpY2stdWktYnRuJyBzdHlsZT0nbWFyZ2luLXRvcDoxNXB4OycgZGF0YS1sYW5nLWtleT0nY2xvc2UnPiR7Z2V0VGV4dCgnY2xvc2UnKX08L2J1dHRvbj5gOwogICAgICAgIGNvbnN0IHsgb3ZlcmxheSB9ID0gY3JlYXRlTW9kYWwoY29udGVudCk7CiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2hlbHAtY2xvc2UtYnRuJykub25jbGljayA9ICgpID0+IG92ZXJsYXkucmVtb3ZlKCk7CiAgICB9CgogICAgZnVuY3Rpb24gc2hvd1NhdmVTY3JvbGxNb2RhbCgpIHsKICAgICAgICBjb25zdCBjb250ZW50ID0gYDxoNCBzdHlsZT0ndGV4dC1hbGlnbjpjZW50ZXI7Y29sb3I6dmFyKC0tbTMtcHJpbWFyeSk7bWFyZ2luLXRvcDowOycgZGF0YS1sYW5nLWtleT0nc2F2ZUN1cnJlbnRTY3JvbGwnPiR7Z2V0VGV4dCgnc2F2ZUN1cnJlbnRTY3JvbGwnKX08L2g0PjxpbnB1dCB0eXBlPSd0ZXh0JyBpZD0nc2Nyb2xsLW5hbWUtaW5wdXQnIGNsYXNzPSdtb2RhbC1pbnB1dC1yYXNlbmdhbicgcGxhY2Vob2xkZXI9JyR7Z2V0VGV4dCgnZW50ZXJOYW1lUGxhY2Vob2xkZXInKX0nPjxidXR0b24gaWQ9J2NvbmZpcm0tc2F2ZS1idG4nIGNsYXNzPSdraWNrLXVpLWJ0bicgc3R5bGU9J21hcmdpbi10b3A6MTVweDsnIGRhdGEtbGFuZy1rZXk9J3NhdmVTY3JvbGxCdG4nPiR7Z2V0VGV4dCgnc2F2ZVNjcm9sbEJ0bicpfTwvYnV0dG9uPmA7CiAgICAgICAgY29uc3QgeyBvdmVybGF5IH0gPSBjcmVhdGVNb2RhbChjb250ZW50LCB0cnVlKTsKICAgICAgICBjb25zdCBuYW1lSW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2Nyb2xsLW5hbWUtaW5wdXQnKTsKICAgICAgICBuYW1lSW5wdXQuZm9jdXMoKTsKCiAgICAgICAgY29uc3QgY2xvc2VNb2RhbCA9ICgpID0+IHsgb3ZlcmxheS5zdHlsZS5vcGFjaXR5ID0gJzAnOyBzZXRUaW1lb3V0KCgpID0+IG92ZXJsYXkucmVtb3ZlKCksIDMwMCk7IH07CiAgICAgICAgCiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbmZpcm0tc2F2ZS1idG4nKS5vbmNsaWNrID0gKCkgPT4gewogICAgICAgICAgICBjb25zdCBuID0gbmFtZUlucHV0LnZhbHVlOwogICAgICAgICAgICBpZiAoIW4gfHwgIW4udHJpbSgpKSB7IG5hbWVJbnB1dC5zdHlsZS5ib3JkZXJDb2xvciA9ICd2YXIoLS1tMy1kYW5nZXIpJzsgcmV0dXJuOyB9CiAgICAgICAgICAgIAogICAgICAgICAgICBjb25zdCBzID0gewogICAgICAgICAgICAgICAgbmFtZTogbiwKICAgICAgICAgICAgICAgIG1lc3NhZ2VzOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWFpbi1tZXNzYWdlLWlucHV0JykudmFsdWUsCiAgICAgICAgICAgICAgICBjb3VudDogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21lc3NhZ2UtY291bnQtaW5wdXQnKS52YWx1ZSwKICAgICAgICAgICAgICAgIGRlbGF5OiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWVzc2FnZS1kZWxheS1pbnB1dCcpLnZhbHVlLAogICAgICAgICAgICAgICAgaW5maW5pdGU6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbmZpbml0ZS1zZW5kLWNoZWNrJykuY2hlY2tlZAogICAgICAgICAgICB9OwoKICAgICAgICAgICAgc2F2ZWRTY3JvbGxzLnB1c2gocyk7CiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdraWNrTmFydXRvU2Nyb2xscycsIEpTT04uc3RyaW5naWZ5KHNhdmVkU2Nyb2xscykpOwogICAgICAgICAgICAKICAgICAgICAgICAgcmVuZGVyU2F2ZWRTY3JvbGxzKCk7IAogICAgICAgICAgICAKICAgICAgICAgICAgc2hvd0tpY2tOb3RpZmljYXRpb24oZ2V0VGV4dCgnc2Nyb2xsU2F2ZWRTdWNjZXNzJywgeyBuYW1lOiBuIH0pKTsKICAgICAgICAgICAgY2xvc2VNb2RhbCgpOwogICAgICAgIH07CgogICAgICAgIG92ZXJsYXkub25jbGljayA9IGUgPT4geyBpZiAoZS50YXJnZXQgPT09IG92ZXJsYXkpIGNsb3NlTW9kYWwoKTsgfTsKICAgIH0KCiAgICBmdW5jdGlvbiBzaG93Q29uZmlybURlbGV0ZU1vZGFsKG5hbWUpIHsKICAgICAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7CiAgICAgICAgICAgIGNvbnN0IGNvbnRlbnQgPSBgPGg0IHN0eWxlPSd0ZXh0LWFsaWduOmNlbnRlcjttYXJnaW4tdG9wOjA7JyBkYXRhLWxhbmcta2V5PSdjb25maXJtRGVsZXRpb24nPiR7Z2V0VGV4dCgnY29uZmlybURlbGV0aW9uJyl9PC9oND48cCBzdHlsZT0ndGV4dC1hbGlnbjpjZW50ZXI7bWFyZ2luLWJvdHRvbToyMHB4Oyc+JHtnZXRUZXh0KCdjb25maXJtRGVsZXRlTXNnJywgeyBuYW1lOiBuYW1lIH0pfTwvcD48ZGl2IHN0eWxlPSdkaXNwbGF5OmZsZXg7Z2FwOjEwcHg7Jz48YnV0dG9uIGlkPSdjb25maXJtLWRlbGV0ZS15ZXMnIGNsYXNzPSdraWNrLXVpLWJ0biBkYW5nZXInIGRhdGEtbGFuZy1rZXk9J3llcyc+JHtnZXRUZXh0KCd5ZXMnKX08L2J1dHRvbj48YnV0dG9uIGlkPSdjb25maXJtLWRlbGV0ZS1ubycgY2xhc3M9J2tpY2stdWktYnRuJyBzdHlsZT0nYmFja2dyb3VuZDojNTU1OycgZGF0YS1sYW5nLWtleT0nbm8nPiR7Z2V0VGV4dCgnbm8nKX08L2J1dHRvbj48L2Rpdj5gOwogICAgICAgICAgICBjb25zdCB7IG92ZXJsYXkgfSA9IGNyZWF0ZU1vZGFsKGNvbnRlbnQpOwogICAgICAgICAgICAKICAgICAgICAgICAgY29uc3QgY2xvc2VNb2RhbCA9IHJlc3VsdCA9PiB7IG92ZXJsYXkuc3R5bGUub3BhY2l0eSA9ICcwJzsgc2V0VGltZW91dCgoKSA9PiBvdmVybGF5LnJlbW92ZSgpLCAzMDApOyByZXNvbHZlKHJlc3VsdCk7IH07CiAgICAgICAgICAgIAogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29uZmlybS1kZWxldGUteWVzJykub25jbGljayA9ICgpID0+IGNsb3NlTW9kYWwodHJ1ZSk7CiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb25maXJtLWRlbGV0ZS1ubycpLm9uY2xpY2sgPSAoKSA9PiBjbG9zZU1vZGFsKGZhbHNlKTsKICAgICAgICAgICAgb3ZlcmxheS5vbmNsaWNrID0gZSA9PiB7IGlmIChlLnRhcmdldCA9PT0gb3ZlcmxheSkgY2xvc2VNb2RhbChmYWxzZSk7IH07CiAgICAgICAgfSk7CiAgICB9CgogICAgZnVuY3Rpb24gbG9hZFNjcm9sbChpKSB7CiAgICAgICAgY29uc3QgcyA9IHNhdmVkU2Nyb2xsc1tpXTsKICAgICAgICBpZiAoIXMpIHJldHVybjsKICAgICAgICAKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWFpbi1tZXNzYWdlLWlucHV0JykudmFsdWUgPSBzLm1lc3NhZ2VzOwogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtZXNzYWdlLWNvdW50LWlucHV0JykudmFsdWUgPSBzLmNvdW50OwogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtZXNzYWdlLWRlbGF5LWlucHV0JykudmFsdWUgPSBzLmRlbGF5OwogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbmZpbml0ZS1zZW5kLWNoZWNrJykuY2hlY2tlZCA9IHMuaW5maW5pdGU7CgogICAgICAgIGNvbnN0IGluZmluaXRlQ2hlY2sgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW5maW5pdGUtc2VuZC1jaGVjaycpOwogICAgICAgIGlmIChpbmZpbml0ZUNoZWNrKSBpbmZpbml0ZUNoZWNrLmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCdjaGFuZ2UnKSk7CgogICAgICAgIHNob3dLaWNrTm90aWZpY2F0aW9uKGdldFRleHQoJ3Njcm9sbExvYWRlZCcsIHsgbmFtZTogcy5uYW1lIH0pKTsKICAgICAgICB0b2dnbGVTZXR0aW5nc1BhbmVsKCk7CiAgICAgICAgc2V0VGltZW91dCgoKSA9PiBzaG93S2lja05vdGlmaWNhdGlvbihnZXRUZXh0KCdzZXR0aW5nc0xvYWRlZCcpKSwgMjAwKTsKICAgIH0KCiAgICBhc3luYyBmdW5jdGlvbiBkZWxldGVTY3JvbGwoaSkgewogICAgICAgIGNvbnN0IHNjcm9sbCA9IHNhdmVkU2Nyb2xsc1tpXTsKICAgICAgICBpZiAoIXNjcm9sbCkgcmV0dXJuOwogICAgICAgIAogICAgICAgIGNvbnN0IGNvbmZpcm1lZCA9IGF3YWl0IHNob3dDb25maXJtRGVsZXRlTW9kYWwoc2Nyb2xsLm5hbWUpOwogICAgICAgIGlmIChjb25maXJtZWQpIHsKICAgICAgICAgICAgc2F2ZWRTY3JvbGxzLnNwbGljZShpLCAxKTsKICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2tpY2tOYXJ1dG9TY3JvbGxzJywgSlNPTi5zdHJpbmdpZnkoc2F2ZWRTY3JvbGxzKSk7CiAgICAgICAgICAgIHJlbmRlclNhdmVkU2Nyb2xscygpOwogICAgICAgIH0KICAgIH0KCiAgICBmdW5jdGlvbiByZW5kZXJTYXZlZFNjcm9sbHMoKSB7CiAgICAgICAgY29uc3QgYyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzYXZlZC1zY3JvbGxzLWxpc3QnKTsKICAgICAgICBpZiAoIWMpIHJldHVybjsKICAgICAgICAKICAgICAgICBjLmlubmVySFRNTCA9ICcnOwogICAgICAgIGlmIChzYXZlZFNjcm9sbHMubGVuZ3RoID09PSAwKSB7CiAgICAgICAgICAgIGMuaW5uZXJIVE1MID0gYDxwIHN0eWxlPSdjb2xvcjojYmJiO3RleHQtYWxpZ246Y2VudGVyOycgZGF0YS1sYW5nLWtleT0nbm9TYXZlZFNjcm9sbHMnPiR7Z2V0VGV4dCgnbm9TYXZlZFNjcm9sbHMnKX08L3A+YDsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgc2F2ZWRTY3JvbGxzLmZvckVhY2goKHMsIGkpID0+IHsKICAgICAgICAgICAgY29uc3QgZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgICAgICBkLmNsYXNzTmFtZSA9ICdzYXZlZC1zY3JvbGwtaXRlbSc7CiAgICAgICAgICAgIGQuaW5uZXJIVE1MID0gYDxzcGFuIHN0eWxlPSdmb250LXdlaWdodDo1MDA7b3ZlcmZsb3c6aGlkZGVuO3RleHQtb3ZlcmZsb3c6ZWxsaXBzaXM7d2hpdGUtc3BhY2U6bm93cmFwOyc+JHtzLm5hbWV9PC9zcGFuPjxkaXYgc3R5bGU9J2Rpc3BsYXk6ZmxleDtnYXA6OHB4O2ZsZXgtc2hyaW5rOjA7Jz48YnV0dG9uIGRhdGEtbG9hZC1pZHg9JyR7aX0nIGNsYXNzPSdzY3JvbGwtYnRuJyBkYXRhLWxhbmcta2V5PSdsb2FkJz4ke2dldFRleHQoJ2xvYWQnKX08L2J1dHRvbj48YnV0dG9uIGRhdGEtZGVsLWlkeD0nJHtpfScgY2xhc3M9J3Njcm9sbC1idG4gZGFuZ2VyJyBkYXRhLWxhbmcta2V5PSdkZWxldGUnPiR7Z2V0VGV4dCgnZGVsZXRlJyl9PC9idXR0b24+PC9kaXY+YDsKICAgICAgICAgICAgYy5hcHBlbmRDaGlsZChkKTsKICAgICAgICB9KTsKICAgIH0KCiAgICBmdW5jdGlvbiBjcmVhdGVTZXR0aW5nc1BhbmVsKCkgewogICAgICAgIGNvbnN0IGZvbnRMaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGluaycpOwogICAgICAgIGZvbnRMaW5rLmhyZWYgPSBUSEVNRV9BU1NFVFMuZm9udF91cmw7CiAgICAgICAgZm9udExpbmsucmVsID0gJ3N0eWxlc2hlZXQnOwogICAgICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoZm9udExpbmspOwoKICAgICAgICBjb25zdCB1aVN0eWxlcyA9IGA6cm9vdHstLW0zLXByaW1hcnk6IzUzRkMxODstLW0zLXByaW1hcnktZGFyazojMzJhODEwOy0tbTMtZGFuZ2VyOiNkOTMwMjU7LS1tMy1kYW5nZXItZGFyazojYTUwZTBlOy0tbTMtc3VyZmFjZS0xOnJnYmEoMzUsMzYsNDAsMC45NSk7LS1tMy1zdXJmYWNlLTI6cmdiYSgyMCwyMCwyNSwwLjYpOy0tbTMtdGV4dC1wcmltYXJ5OiNlOGVhZWQ7LS1tMy10ZXh0LXNlY29uZGFyeTojYmRjMWM2O31Aa2V5ZnJhbWVzIHNjYWxlSW57ZnJvbXtvcGFjaXR5OjA7dHJhbnNmb3JtOnNjYWxlKC45KX10b3tvcGFjaXR5OjE7dHJhbnNmb3JtOnNjYWxlKDEpfX1Aa2V5ZnJhbWVzIHRvYXN0LWxvYWRlci1hbmlte2Zyb217d2lkdGg6MTAwJX10b3t3aWR0aDowJX19LmtpY2stdG9hc3QtbG9hZGVye3Bvc2l0aW9uOmFic29sdXRlO2JvdHRvbTowO2xlZnQ6MDtoZWlnaHQ6NHB4O2JhY2tncm91bmQ6cmdiYSgwLDAsMCwwLjMpO2FuaW1hdGlvbjp0b2FzdC1sb2FkZXItYW5pbSAyLjhzIGxpbmVhciBmb3J3YXJkczt9LmtpY2stdWktcGFuZWx7cG9zaXRpb246Zml4ZWQ7dG9wOjUwJTtsZWZ0OjUwJTtiYWNrZ3JvdW5kOnZhcigtLW0zLXN1cmZhY2UtMSk7YmFja2Ryb3AtZmlsdGVyOmJsdXIoMTRweCk7Ym9yZGVyLXJhZGl1czoyOHB4O2JveC1zaGFkb3c6MCA4cHggMzJweCByZ2JhKDAsMCwwLDAuMyk7ei1pbmRleDo5OTk5O2NvbG9yOnZhcigtLW0zLXRleHQtcHJpbWFyeSk7Zm9udC1mYW1pbHk6J1JvYm90bycsc2Fucy1zZXJpZjt3aWR0aDo5MHZ3O21heC13aWR0aDozODBweDtkaXNwbGF5Om5vbmU7ZmxleC1kaXJlY3Rpb246Y29sdW1uO29wYWNpdHk6MDt0cmFuc2Zvcm06dHJhbnNsYXRlKC01MCUsLTUwJSkgc2NhbGUoLjk1KTt0cmFuc2l0aW9uOm9wYWNpdHkgLjNzIGVhc2UsdHJhbnNmb3JtIC4zcyBlYXNlO292ZXJmbG93OmhpZGRlbn0ua2ljay11aS1wYW5lbCAqe2JveC1zaXppbmc6Ym9yZGVyLWJveH0ua2ljay11aS1ib2R5e292ZXJmbG93LXk6YXV0bztwYWRkaW5nOjE2cHg7ZGlzcGxheTpmbGV4O2ZsZXgtZGlyZWN0aW9uOmNvbHVtbjtnYXA6MTZweH0ua2ljay11aS1jYXJke2JhY2tncm91bmQ6dmFyKC0tbTMtc3VyZmFjZS0yKTtib3JkZXItcmFkaXVzOjE4cHg7cGFkZGluZzoxNnB4O2Rpc3BsYXk6ZmxleDtmbGV4LWRpcmVjdGlvbjpjb2x1bW47Z2FwOjEycHh9LmtpY2stdWktY2FyZCBsYWJlbHttYXJnaW4tYm90dG9tOjZweDtkaXNwbGF5OmJsb2NrO2ZvbnQtd2VpZ2h0OjUwMDtjb2xvcjp2YXIoLS1tMy10ZXh0LXNlY29uZGFyeSk7Zm9udC1zaXplOjE0cHg7fS5raWNrLXVpLXBhbmVsIGlucHV0W3R5cGU9bnVtYmVyXSwua2ljay11aS1wYW5lbCBpbnB1dFt0eXBlPXRleHRdLC5raWNrLXVpLXBhbmVsIHRleHRhcmVhe2NvbG9yOnZhcigtLW0zLXRleHQtcHJpbWFyeSkhaW1wb3J0YW50O2JhY2tncm91bmQ6cmdiYSgwLDAsMCwuMyk7Ym9yZGVyOjFweCBzb2xpZCAjNWY2MzY4O2JvcmRlci1yYWRpdXM6MTJweDtwYWRkaW5nOjEycHg7d2lkdGg6MTAwJTt0cmFuc2l0aW9uOmFsbCAuMnMgZWFzZTtmb250LWZhbWlseTonUm9ib3RvJyxzYW5zLXNlcmlmO2ZvbnQtc2l6ZToxNnB4O30ua2ljay11aS1wYW5lbCBpbnB1dDpmb2N1cywua2ljay11aS1wYW5lbCB0ZXh0YXJlYTpmb2N1c3tib3JkZXItY29sb3I6dmFyKC0tbTMtcHJpbWFyeSk7Ym94LXNoYWRvdzowIDAgMCAzcHggcmdiYSg4MywyNTIsMjQsLjIpO291dGxpbmU6MH0ua2ljay11aS1idG57YWxsOnVuc2V0O3Bvc2l0aW9uOnJlbGF0aXZlO292ZXJmbG93OmhpZGRlbjtib3gtc2l6aW5nOmJvcmRlci1ib3g7d2lkdGg6MTAwJTt0ZXh0LWFsaWduOmNlbnRlcjtwYWRkaW5nOjE0cHg7Ym9yZGVyLXJhZGl1czoxOHB4O2JhY2tncm91bmQ6dmFyKC0tbTMtcHJpbWFyeSk7Y29sb3I6IzAwMDtmb250LXNpemU6MTZweDtmb250LXdlaWdodDo3MDA7Y3Vyc29yOnBvaW50ZXI7dHJhbnNpdGlvbjphbGwgLjE1cyBlYXNlfS5raWNrLXVpLWJ0bjphY3RpdmV7YmFja2dyb3VuZDp2YXIoLS1tMy1wcmltYXJ5LWRhcmspO3RyYW5zZm9ybTpzY2FsZSgwLjk4KX0ua2ljay11aS1mb290ZXJ7cGFkZGluZzoxMnB4IDE2cHg7YmFja2dyb3VuZDpyZ2JhKDAsMCwwLC4zKTtkaXNwbGF5OmZsZXg7YWxpZ24taXRlbXM6Y2VudGVyO2p1c3RpZnktY29udGVudDpzcGFjZS1iZXR3ZWVuO2ZvbnQtc2l6ZToxNHB4O2NvbG9yOiM4ODg7ZmxleC1zaHJpbms6MDtib3JkZXItdG9wOjFweCBzb2xpZCAjM2M0MDQzfS5mb290ZXItYnRue2FsbDp1bnNldDtwYWRkaW5nOjhweCAxNnB4O2JhY2tncm91bmQ6cmdiYSgyNTUsMjU1LDI1NSwuMDUpO2NvbG9yOnZhcigtLW0zLXRleHQtc2Vjb25kYXJ5KTtib3JkZXI6MXB4IHNvbGlkICM1ZjYzNjg7Ym9yZGVyLXJhZGl1czoxNnB4O2N1cnNvcjpwb2ludGVyO2ZvbnQtZmFtaWx5OmluaGVyaXQ7Zm9udC1zaXplOjE0cHg7dHJhbnNpdGlvbjphbGwgLjJzIGVhc2V9LmZvb3Rlci1idG46aG92ZXJ7YmFja2dyb3VuZDpyZ2JhKDI1NSwyNTUsMjU1LDAuMSk7Y29sb3I6dmFyKC0tbTMtdGV4dC1wcmltYXJ5KTt9LnNhdmVkLXNjcm9sbC1pdGVte2Rpc3BsYXk6ZmxleDtqdXN0aWZ5LWNvbnRlbnQ6c3BhY2UtYmV0d2VlbjthbGlnbi1pdGVtczpjZW50ZXI7YmFja2dyb3VuZDpyZ2JhKDAsMCwwLDAuMik7cGFkZGluZzoxMnB4O2JvcmRlci1yYWRpdXM6MTJweDtib3JkZXI6MXB4IHNvbGlkICMzYzQwNDN9LnNjcm9sbC1idG57YWxsOnVuc2V0O3BhZGRpbmc6OHB4IDEycHg7Zm9udC1zaXplOjE0cHg7YmFja2dyb3VuZDpyZ2JhKDI1NSwyNTUsMjU1LDAuMDgpO2JvcmRlcjoxcHggc29saWQgIzVmNjM2ODtib3JkZXItcmFkaXVzOjEwcHg7Y3Vyc29yOnBvaW50ZXI7Zm9udC13ZWlnaHQ6NTAwO30uc2Nyb2xsLWJ0bi5kYW5nZXJ7YmFja2dyb3VuZDpyZ2JhKDIxNyw0OCwzNywwLjMpO2NvbG9yOiNmMjhiODI7fS5zY3JvbGwtYnRuLmRhbmdlcjpob3ZlcntiYWNrZ3JvdW5kOnJnYmEoMjE3LDQ4LDM3LDAuNSl9LmtpY2stdWktYnRuLmRhbmdlcntiYWNrZ3JvdW5kOnZhcigtLW0zLWRhbmdlcik7Y29sb3I6I2ZmZjt9LmtpY2stdWktYnRuLmRhbmdlcjphY3RpdmV7YmFja2dyb3VuZDp2YXIoLS1tMy1kYW5nZXItZGFyayk7fS5tb2RhbC1pbnB1dC1yYXNlbmdhbntiYWNrZ3JvdW5kOiMxYTFhMWEgIWltcG9ydGFudDtib3JkZXI6MnB4IHNvbGlkIHZhcigtLW0zLXByaW1hcnkpIWltcG9ydGFudDtjb2xvcjp3aGl0ZSAhaW1wb3J0YW50O2JvcmRlci1yYWRpdXM6MThweDtwYWRkaW5nOjIwcHghaW1wb3J0YW50O2ZvbnQtc2l6ZToyMHB4IWltcG9ydGFudDt0ZXh0LWFsaWduOmNlbnRlcjtmb250LXdlaWdodDo1MDA7Ym94LXNoYWRvdzowIDAgMjBweCByZ2JhKDgzLDI1MiwyNCwwLjMpO30udGFiLW5hdntwb3NpdGlvbjpyZWxhdGl2ZTtkaXNwbGF5OmZsZXg7cGFkZGluZzowIDEwcHg7YWxpZ24taXRlbXM6Y2VudGVyO2JvcmRlci1ib3R0b206MXB4IHNvbGlkICMzYzQwNDM7fS50YWItYnV0dG9uc3tmbGV4LWdyb3c6MTtkaXNwbGF5OmZsZXg7fS50YWItYnRue2FsbDp1bnNldDtib3gtc2l6aW5nOmJvcmRlci1ib3g7ZmxleDoxO3RleHQtYWxpZ246Y2VudGVyO3BhZGRpbmc6MTJweDtmb250LXdlaWdodDo1MDA7Y3Vyc29yOnBvaW50ZXI7Y29sb3I6dmFyKC0tbTMtdGV4dC1zZWNvbmRhcnkpO3RyYW5zaXRpb246Y29sb3IgLjJzIGVhc2UsYm9yZGVyLWNvbG9yIC4ycyBlYXNlO2JvcmRlci1ib3R0b206M3B4IHNvbGlkIHRyYW5zcGFyZW50O30udGFiLWJ0bi5hY3RpdmV7Y29sb3I6dmFyKC0tbTMtcHJpbWFyeSk7Ym9yZGVyLWJvdHRvbS1jb2xvcjp2YXIoLS1tMy1wcmltYXJ5KTt9LnRhYi1jb250ZW50e2Rpc3BsYXk6bm9uZTtwYWRkaW5nLXRvcDoxMHB4fS50YWItY29udGVudC5hY3RpdmV7ZGlzcGxheTpibG9jazt9I2hlbHAtYnRue2FsbDp1bnNldDtjdXJzb3I6cG9pbnRlcjtmb250LXNpemU6MjBweDtjb2xvcjp2YXIoLS1tMy10ZXh0LXNlY29uZGFyeSk7cGFkZGluZzo4cHg7Ym9yZGVyLXJhZGl1czo1MCU7dHJhbnNpdGlvbjphbGwgLjJzIGVhc2U7dGV4dC1hbGlnbjpjZW50ZXJ9I2hlbHAtYnRuOmhvdmVye2NvbG9yOnZhcigtLW0zLXByaW1hcnkpO2JhY2tncm91bmQ6cmdiYSgyNTUsMjU1LDI1NSwuMDUpO30uaGVscC1zZWN0aW9uIGg1e21hcmdpbjoxNXB4IDAgOHB4IDA7Y29sb3I6dmFyKC0tbTMtcHJpbWFyeSk7Ym9yZGVyLWJvdHRvbToxcHggc29saWQgIzNjNDA0MztwYWRkaW5nLWJvdHRvbTo4cHg7Zm9udC1zaXplOjE2cHg7fS5oZWxwLXNlY3Rpb24gcHttYXJnaW46MCAwIDE1cHggMDtmb250LXNpemU6MTVweDtsaW5lLWhlaWdodDoxLjY7Y29sb3I6dmFyKC0tbTMtdGV4dC1zZWNvbmRhcnkpO30uaGVscC1zZWN0aW9uIHVse3BhZGRpbmctbGVmdDoyMHB4O21hcmdpbi10b3A6NXB4O30uaGVscC1zZWN0aW9uIGxpe21hcmdpbi1ib3R0b206OHB4O30uaGVscC1idWJibGV7cG9zaXRpb246YWJzb2x1dGU7dG9wOjUwcHg7cmlnaHQ6MTBweDtiYWNrZ3JvdW5kOnZhcigtLW0zLXByaW1hcnkpO2NvbG9yOiMwMDA7cGFkZGluZzo4cHggMTJweDtib3JkZXItcmFkaXVzOjEwcHg7Zm9udC1zaXplOjE0cHg7Zm9udC13ZWlnaHQ6NTAwO3otaW5kZXg6MTA7YW5pbWF0aW9uOnNjYWxlSW4gLjNzO2N1cnNvcjpwb2ludGVyO30uaGVscC1idWJibGU6OmFmdGVye2NvbnRlbnQ6Jyc7cG9zaXRpb246YWJzb2x1dGU7Ym90dG9tOjEwMCU7cmlnaHQ6MTVweDtib3JkZXItd2lkdGg6NnB4O2JvcmRlci1zdHlsZTpzb2xpZDtib3JkZXItY29sb3I6dHJhbnNwYXJlbnQgdHJhbnNwYXJlbnQgdmFyKC0tbTMtcHJpbWFyeSkgdHJhbnNwYXJlbnQ7fWA7CiAgICAgICAgCiAgICAgICAgY29uc3Qgc3R5bGVTaGVldCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7CiAgICAgICAgc3R5bGVTaGVldC50eXBlID0gJ3RleHQvY3NzJzsKICAgICAgICBzdHlsZVNoZWV0LmlubmVyVGV4dCA9IHVpU3R5bGVzOwogICAgICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoc3R5bGVTaGVldCk7CgogICAgICAgIGNvbnN0IHVpID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgICAgdWkuaWQgPSAna2ljay10b29scy11aSc7CiAgICAgICAgdWkuY2xhc3NOYW1lID0gJ2tpY2stdWktcGFuZWwnOwogICAgICAgIHVpLmlubmVySFRNTCA9IGA8ZGl2IGNsYXNzPSd0YWItbmF2Jz48ZGl2IGNsYXNzPSd0YWItYnV0dG9ucyc+PGJ1dHRvbiBjbGFzcz0ndGFiLWJ0biBhY3RpdmUnIGRhdGEtdGFiPSdpbnRlcmFjdGlvbicgZGF0YS1sYW5nLWtleT0naW50ZXJhY3Rpb25UYWInPjwvYnV0dG9uPjxidXR0b24gY2xhc3M9J3RhYi1idG4nIGRhdGEtdGFiPSdzY3JvbGxzJyBkYXRhLWxhbmcta2V5PSdzY3JvbGxzVGFiJz48L2J1dHRvbj48L2Rpdj48YnV0dG9uIGlkPSdoZWxwLWJ0bic+PzwvYnV0dG9uPjwvZGl2PjxkaXYgY2xhc3M9J2tpY2stdWktYm9keSc+PGRpdiBpZD0ndGFiLWludGVyYWN0aW9uJyBjbGFzcz0ndGFiLWNvbnRlbnQgYWN0aXZlJz48ZGl2IGNsYXNzPSdraWNrLXVpLWNhcmQnPjxkaXY+PGxhYmVsIGZvcj0nbWFpbi1tZXNzYWdlLWlucHV0JyBkYXRhLWxhbmcta2V5PSdlbnRlck1lc3NhZ2VMYWJlbCc+PC9sYWJlbD48dGV4dGFyZWEgaWQ9J21haW4tbWVzc2FnZS1pbnB1dCcgcm93cz0nMic+PC90ZXh0YXJlYT48L2Rpdj48ZGl2IHN0eWxlPSdkaXNwbGF5OmZsZXg7Z2FwOjE1cHgnPjxkaXYgaWQ9J21lc3NhZ2UtY291bnQtY29udGFpbmVyJyBzdHlsZT0nZmxleDoxO3RyYW5zaXRpb246b3BhY2l0eSAwLjNzLCBtYXgtd2lkdGggMC4zcywgbWFyZ2luIDAuM3MsIHBhZGRpbmcgMC4zczsgb3ZlcmZsb3c6aGlkZGVuOyBtYXgtd2lkdGg6IDUwJTsnPjxsYWJlbCBkYXRhLWxhbmcta2V5PSdjb3VudExhYmVsJz48L2xhYmVsPjxpbnB1dCBpZD0nbWVzc2FnZS1jb3VudC1pbnB1dCcgdHlwZT0nbnVtYmVyJyB2YWx1ZT0nMTAwJz48L2Rpdj48ZGl2IHN0eWxlPSdmbGV4OjEnPjxsYWJlbCBkYXRhLWxhbmcta2V5PSdkZWxheUxhYmVsJz48L2xhYmVsPjxpbnB1dCBpZD0nbWVzc2FnZS1kZWxheS1pbnB1dCcgdHlwZT0nbnVtYmVyJyB2YWx1ZT0nMTAwMCc+PC9kaXY+PC9kaXY+PGRpdiBzdHlsZT0nZGlzcGxheTpmbGV4O2FsaWduLWl0ZW1zOmNlbnRlcjtnYXA6MTBweCc+PGlucHV0IHR5cGU9J2NoZWNrYm94JyBpZD0naW5maW5pdGUtc2VuZC1jaGVjaycgc3R5bGU9J3dpZHRoOjIwcHg7aGVpZ2h0OjIwcHg7YWNjZW50LWNvbG9yOnZhcigtLW0zLXByaW1hcnkpJz48bGFiZWwgZm9yPSdpbmZpbml0ZS1zZW5kLWNoZWNrJyBzdHlsZT0nbWFyZ2luOjAnIGRhdGEtbGFuZy1rZXk9J2luZmluaXRlU2VuZExhYmVsJz48L2xhYmVsPjwvZGl2PjwvZGl2PjwvZGl2PjxkaXYgaWQ9J3RhYi1zY3JvbGxzJyBjbGFzcz0ndGFiLWNvbnRlbnQnPjxkaXYgY2xhc3M9J2tpY2stdWktY2FyZCc+PGRpdiBzdHlsZT0nZGlzcGxheTpmbGV4O2p1c3RpZnktY29udGVudDpzcGFjZS1iZXR3ZWVuO2FsaWduLWl0ZW1zOmNlbnRlcjsnPjxoNCBzdHlsZT0nbWFyZ2luOjAnIGRhdGEtbGFuZy1rZXk9J3NhdmVkU2Nyb2xsc1RpdGxlJz48L2g0PjxidXR0b24gaWQ9J3NhdmUtc2Nyb2xsLWJ0bicgY2xhc3M9J2tpY2stdWktYnRuJyBzdHlsZT0nd2lkdGg6YXV0bztwYWRkaW5nOiA2cHggMTJweDtmb250LXNpemU6MTRweDtiYWNrZ3JvdW5kOnJnYmEoMjU1LDI1NSwyNTUsMC4wOCk7Ym9yZGVyOjFweCBzb2xpZCAjNWY2MzY4O2NvbG9yOiNmZmY7JyBkYXRhLWxhbmcta2V5PSdzYXZlJz48L2J1dHRvbj48L2Rpdj48ZGl2IGlkPSdzYXZlZC1zY3JvbGxzLWxpc3QnIHN0eWxlPSdtYXJnaW4tdG9wOjEwcHg7ZGlzcGxheTpmbGV4O2ZsZXgtZGlyZWN0aW9uOmNvbHVtbjtnYXA6MTBweDttYXgtaGVpZ2h0OjE1MHB4O292ZXJmbG93LXk6YXV0bzsnPjwvZGl2PjwvZGl2PjwvZGl2PjwvZGl2PjxkaXYgY2xhc3M9J2tpY2stdWktZm9vdGVyJz48YnV0dG9uIGlkPSdsYW5nLXN3aXRjaC1idG4nIGNsYXNzPSdmb290ZXItYnRuJyBkYXRhLWxhbmcta2V5PSdsYW5ndWFnZVRvZ2dsZSc+PC9idXR0b24+PGJ1dHRvbiBpZD0ncGFuZWwtY2xvc2UtYnRuJyBjbGFzcz0nZm9vdGVyLWJ0bicgZGF0YS1sYW5nLWtleT0nY2xvc2UnPjwvYnV0dG9uPjwvZGl2PmA7CiAgICAgICAgCiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh1aSk7CiAgICAgICAgc2V0dXBFdmVudExpc3RlbmVycyh1aSk7CiAgICAgICAgaWYgKGN1cnJlbnRMYW5ndWFnZSkgdXBkYXRlVUlUZXh0KCk7CiAgICAgICAgCiAgICAgICAgcmVuZGVyU2F2ZWRTY3JvbGxzKCk7IAogICAgfQoKICAgIGZ1bmN0aW9uIHVwZGF0ZVVJVGV4dCgpIHsKICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1sYW5nLWtleV0nKS5mb3JFYWNoKGVsID0+IHsKICAgICAgICAgICAgY29uc3Qga2V5ID0gZWwuZGF0YXNldC5sYW5nS2V5OwogICAgICAgICAgICBpZiAoa2V5KSBlbC5pbm5lckhUTUwgPSBnZXRUZXh0KGtleSk7CiAgICAgICAgfSk7CiAgICAgICAgY29uc3QgbmFtZUlucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Njcm9sbC1uYW1lLWlucHV0Jyk7CiAgICAgICAgaWYgKG5hbWVJbnB1dCkgbmFtZUlucHV0LnBsYWNlaG9sZGVyID0gZ2V0VGV4dCgnZW50ZXJOYW1lUGxhY2Vob2xkZXInKTsKICAgIH0KCiAgICBmdW5jdGlvbiBzZXR1cEV2ZW50TGlzdGVuZXJzKHVpKSB7CiAgICAgICAgdWkucXVlcnlTZWxlY3RvcignLnRhYi1idXR0b25zJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+IHsKICAgICAgICAgICAgaWYgKCFlLnRhcmdldC5tYXRjaGVzKCcudGFiLWJ0bicpKSByZXR1cm47CiAgICAgICAgICAgIGNvbnN0IHRhcmdldFRhYiA9IGUudGFyZ2V0LmRhdGFzZXQudGFiOwogICAgICAgICAgICB1aS5xdWVyeVNlbGVjdG9yKCcudGFiLWJ0bi5hY3RpdmUnKS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTsKICAgICAgICAgICAgZS50YXJnZXQuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7CiAgICAgICAgICAgIHVpLnF1ZXJ5U2VsZWN0b3IoJy50YWItY29udGVudC5hY3RpdmUnKS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTsKICAgICAgICAgICAgdWkucXVlcnlTZWxlY3RvcihgI3RhYi0ke3RhcmdldFRhYn1gKS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTsKICAgICAgICB9KTsKCiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BhbmVsLWNsb3NlLWJ0bicpPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRvZ2dsZVNldHRpbmdzUGFuZWwpOwogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzYXZlLXNjcm9sbC1idG4nKT8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBzaG93U2F2ZVNjcm9sbE1vZGFsKTsKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaGVscC1idG4nKT8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBzaG93SGVscE1vZGFsKTsKICAgICAgICAKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGFuZy1zd2l0Y2gtYnRuJyk/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gewogICAgICAgICAgICBjdXJyZW50TGFuZ3VhZ2UgPSBjdXJyZW50TGFuZ3VhZ2UgPT09ICdlbicgPyAnYXInIDogJ2VuJzsKICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2tpY2tUb29sc0xhbmcnLCBjdXJyZW50TGFuZ3VhZ2UpOwogICAgICAgICAgICB1cGRhdGVVSVRleHQoKTsKICAgICAgICAgICAgcmVuZGVyU2F2ZWRTY3JvbGxzKCk7CiAgICAgICAgfSk7CgogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbmZpbml0ZS1zZW5kLWNoZWNrJyk/LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIGUgPT4gewogICAgICAgICAgICBjb25zdCBjb3VudENvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtZXNzYWdlLWNvdW50LWNvbnRhaW5lcicpOwogICAgICAgICAgICBpZiAoY291bnRDb250YWluZXIpIHsKICAgICAgICAgICAgICAgIGlmIChlLnRhcmdldC5jaGVja2VkKSB7CiAgICAgICAgICAgICAgICAgICAgY291bnRDb250YWluZXIuc3R5bGUub3BhY2l0eSA9ICcwJzsKICAgICAgICAgICAgICAgICAgICBjb3VudENvbnRhaW5lci5zdHlsZS5tYXhXaWR0aCA9ICcwJzsKICAgICAgICAgICAgICAgICAgICBjb3VudENvbnRhaW5lci5zdHlsZS5tYXJnaW4gPSAnMCc7CiAgICAgICAgICAgICAgICAgICAgY291bnRDb250YWluZXIuc3R5bGUucGFkZGluZyA9ICcwJzsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgY291bnRDb250YWluZXIuc3R5bGUub3BhY2l0eSA9ICcxJzsKICAgICAgICAgICAgICAgICAgICBjb3VudENvbnRhaW5lci5zdHlsZS5tYXhXaWR0aCA9ICc1MCUnOwogICAgICAgICAgICAgICAgICAgIGNvdW50Q29udGFpbmVyLnN0eWxlLm1hcmdpbiA9ICcnOwogICAgICAgICAgICAgICAgICAgIGNvdW50Q29udGFpbmVyLnN0eWxlLnBhZGRpbmcgPSAnJzsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0pOwoKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2F2ZWQtc2Nyb2xscy1saXN0Jyk/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZSA9PiB7CiAgICAgICAgICAgIGNvbnN0IHQgPSBlLnRhcmdldDsKICAgICAgICAgICAgaWYgKHQuY2xhc3NMaXN0LmNvbnRhaW5zKCdzY3JvbGwtYnRuJykpIHsKICAgICAgICAgICAgICAgIGNvbnN0IGwgPSB0LmRhdGFzZXQubG9hZElkeDsKICAgICAgICAgICAgICAgIGNvbnN0IGQgPSB0LmRhdGFzZXQuZGVsSWR4OwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBpZiAobCkgbG9hZFNjcm9sbChwYXJzZUludChsLCAxMCkpOwogICAgICAgICAgICAgICAgaWYgKGQpIGRlbGV0ZVNjcm9sbChwYXJzZUludChkLCAxMCkpOwogICAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICB9CgogICAgZnVuY3Rpb24gY3JlYXRlUHJpbWFyeVdpZGdldCgpIHsKICAgICAgICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2tpY2stanV0c3Utd2lkZ2V0JykpIHJldHVybjsKICAgICAgICBmaW5kQ2hhdHJvb21JbmZvKHRydWUpOwoKICAgICAgICBjb25zdCB3ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgICAgdy5pZCA9ICdraWNrLWp1dHN1LXdpZGdldCc7CiAgICAgICAgdy5zdHlsZS5jc3NUZXh0ID0gYHBvc2l0aW9uOmZpeGVkO3RvcDo4MHB4O2xlZnQ6MjBweDt6LWluZGV4OjEwMDAxO2JhY2tncm91bmQ6dmFyKC0tbTMtc3VyZmFjZS0xKTtiYWNrZHJvcC1maWx0ZXI6Ymx1cigxMHB4KTtib3JkZXItcmFkaXVzOjE4cHg7Ym94LXNoYWRvdzowIDVweCAyNXB4IHJnYmEoMCwwLDAsMC4zKTtjb2xvcjojZmZmO3BhZGRpbmc6MTBweCAxMnB4O2Rpc3BsYXk6ZmxleDtnYXA6OHB4O2FsaWduLWl0ZW1zOmNlbnRlcjtmb250LWZhbWlseTonUm9ib3RvJyxzYW5zLXNlcmlmO2N1cnNvcjpncmFiO2FuaW1hdGlvbjpzY2FsZUluIC4zcyBlYXNlLW91dDtgOwogICAgICAgIAogICAgICAgIGNvbnN0IGluaXRpYWxCdXR0b25UZXh0ID0gY3VycmVudExhbmd1YWdlID8gZ2V0VGV4dCgnc3RhcnQnKSA6ICcnOwogICAgICAgIHcuaW5uZXJIVE1MID0gYDxidXR0b24gaWQ9J2p1dHN1LXRvZ2dsZS1idG4nIGNsYXNzPSdraWNrLXVpLWJ0bicgc3R5bGU9J3dpZHRoOmF1dG87cGFkZGluZzo4cHggMjBweDtmb250LXNpemU6MTZweDsnIGRhdGEtbGFuZy1rZXk9J3N0YXJ0Jz4ke2luaXRpYWxCdXR0b25UZXh0fTwvYnV0dG9uPjxidXR0b24gaWQ9J2p1dHN1LXNldHRpbmdzLWJ0bicgc3R5bGU9J2FsbDp1bnNldDtjdXJzb3I6cG9pbnRlcjtmb250LXNpemU6MjRweDtsaW5lLWhlaWdodDoxO3BhZGRpbmc6NHB4O2NvbG9yOnZhcigtLW0zLXRleHQtc2Vjb25kYXJ5KTsnPuKcj++4jzwvYnV0dG9uPjxzcGFuIGlkPSdqdXRzdS1jb3VudGVyJyBzdHlsZT0nZm9udC1zaXplOjE0cHg7Y29sb3I6I2NjYztkaXNwbGF5Om5vbmU7Jz48L3NwYW4+YDsKCiAgICAgICAgY29uc3QgcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7CiAgICAgICAgcy5pbm5lclRleHQgPSBgI2p1dHN1LXRvZ2dsZS1idG4uYWN0aXZle2JhY2tncm91bmQ6dmFyKC0tbTMtZGFuZ2VyKSFpbXBvcnRhbnQ7Y29sb3I6I2ZmZiFpbXBvcnRhbnQ7fSNqdXRzdS1zZXR0aW5ncy1idG46aG92ZXJ7Y29sb3I6dmFyKC0tbTMtcHJpbWFyeSk7fWA7CiAgICAgICAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzKTsKICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHcpOwoKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnanV0c3Utc2V0dGluZ3MtYnRuJykub25jbGljayA9ICgpID0+IHsKICAgICAgICAgICAgaWYgKCFsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgna2lja1Rvb2xzTGFuZycpKSB7CiAgICAgICAgICAgICAgICBzaG93TGFuZ3VhZ2VTZWxlY3Rpb25Nb2RhbCgpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgdG9nZ2xlU2V0dGluZ3NQYW5lbCgpOwogICAgICAgICAgICB9CiAgICAgICAgfTsKCiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2p1dHN1LXRvZ2dsZS1idG4nKS5vbmNsaWNrID0gYXN5bmMgKCkgPT4gewogICAgICAgICAgICBpZiAoIWN1cnJlbnRMYW5ndWFnZSkgewogICAgICAgICAgICAgICAgc2hvd0xhbmd1YWdlU2VsZWN0aW9uTW9kYWwoKTsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoc2VuZGluZ1Byb2Nlc3MuYWN0aXZlKSB7CiAgICAgICAgICAgICAgICBzdG9wQ3VycmVudFByb2Nlc3MoKTsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgY29uc3QgaGFzSW5mbyA9IGF3YWl0IGZpbmRDaGF0cm9vbUluZm8odHJ1ZSk7CiAgICAgICAgICAgIGlmICghaGFzSW5mbykgewogICAgICAgICAgICAgICAgc2hvd0tpY2tOb3RpZmljYXRpb24oZ2V0VGV4dCgnZW50ZXJTdHJlYW1GaXJzdCcpKTsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgY29uc3QgbWVzc2FnZVZhbHVlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21haW4tbWVzc2FnZS1pbnB1dCcpLnZhbHVlOwogICAgICAgICAgICBpZiAoIW1lc3NhZ2VWYWx1ZS50cmltKCkpIHsKICAgICAgICAgICAgICAgIHNob3dLaWNrTm90aWZpY2F0aW9uKGdldFRleHQoJ3dyaXRlTWVzc2FnZUhpbnQnKSk7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGNvbnN0IGlzSW5mID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2luZmluaXRlLXNlbmQtY2hlY2snKS5jaGVja2VkOwogICAgICAgICAgICBjb25zdCBjeWNsZXMgPSBpc0luZiA/IEluZmluaXR5IDogcGFyc2VJbnQoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21lc3NhZ2UtY291bnQtaW5wdXQnKS52YWx1ZSkgfHwgMTAwOwogICAgICAgICAgICBjb25zdCBkZWxheSA9IHBhcnNlSW50KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtZXNzYWdlLWRlbGF5LWlucHV0JykudmFsdWUpIHx8IDEwMDA7CiAgICAgICAgICAgIGNvbnN0IGxpbmVzID0gbWVzc2FnZVZhbHVlLnNwbGl0KCdcbicpLmZpbHRlcihCb29sZWFuKTsKCiAgICAgICAgICAgIHN0YXJ0U2VuZGluZ1Byb2Nlc3MobGluZXMsIGN5Y2xlcywgZGVsYXkpOwogICAgICAgIH07CgogICAgICAgIGxldCBkID0gZmFsc2UsIHgsIHk7CiAgICAgICAgY29uc3Qgb1MgPSBlID0+IHsKICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTsKICAgICAgICAgICAgZCA9IHRydWU7CiAgICAgICAgICAgIHcuc3R5bGUuY3Vyc29yID0gJ2dyYWJiaW5nJzsKICAgICAgICAgICAgY29uc3QgdCA9IGUudG91Y2hlcyA/IGUudG91Y2hlc1swXSA6IGU7CiAgICAgICAgICAgIHggPSB0LmNsaWVudFggLSB3LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnQ7CiAgICAgICAgICAgIHkgPSB0LmNsaWVudFkgLSB3LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcDsKICAgICAgICB9LCBvTSA9IGUgPT4gewogICAgICAgICAgICBpZiAoZCkgewogICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgICAgICAgICAgY29uc3QgdCA9IGUudG91Y2hlcyA/IGUudG91Y2hlc1swXSA6IGU7CiAgICAgICAgICAgICAgICB3LnN0eWxlLmxlZnQgPSBgJHt0LmNsaWVudFggLSB4fXB4YDsKICAgICAgICAgICAgICAgIHcuc3R5bGUudG9wID0gYCR7dC5jbGllbnRZIC0geX1weGA7CiAgICAgICAgICAgIH0KICAgICAgICB9LCBvRSA9ICgpID0+IHsKICAgICAgICAgICAgZCA9IGZhbHNlOwogICAgICAgICAgICB3LnN0eWxlLmN1cnNvciA9ICdncmFiJzsKICAgICAgICB9OwoKICAgICAgICB3LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIG9TKTsKICAgICAgICB3LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCBvUywgeyBwYXNzaXZlOiBmYWxzZSB9KTsKICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBvTSk7CiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgb00sIHsgcGFzc2l2ZTogZmFsc2UgfSk7CiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIG9FKTsKICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIG9FKTsKICAgIH0KCiAgICBmdW5jdGlvbiBzdG9wSGVscEJ1YmJsZUFuaW1hdGlvbigpIHsKICAgICAgICBpZiAoaGVscEJ1YmJsZUludGVydmFsKSB7CiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaGVscEJ1YmJsZUludGVydmFsKTsKICAgICAgICAgICAgaGVscEJ1YmJsZUludGVydmFsID0gbnVsbDsKICAgICAgICB9CiAgICAgICAgY29uc3QgYnViYmxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhlbHAtYnViYmxlJyk7CiAgICAgICAgaWYgKGJ1YmJsZSkgYnViYmxlLnJlbW92ZSgpOwogICAgfQoKICAgIGZ1bmN0aW9uIHN0YXJ0SGVscEJ1YmJsZUFuaW1hdGlvbih1aSkgewogICAgICAgIGlmIChsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgna2lja1Rvb2xIZWxwQnViYmxlU2VlbicpKSByZXR1cm47CiAgICAgICAgc3RvcEhlbHBCdWJibGVBbmltYXRpb24oKTsKCiAgICAgICAgY29uc3QgbmF2ID0gdWkucXVlcnlTZWxlY3RvcignLnRhYi1uYXYnKTsKCiAgICAgICAgY29uc3QgY3JlYXRlQW5kU2hvd0J1YmJsZSA9ICgpID0+IHsKICAgICAgICAgICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oZWxwLWJ1YmJsZScpKSByZXR1cm47CiAgICAgICAgICAgIGNvbnN0IGJ1YmJsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgICAgICBidWJibGUuY2xhc3NOYW1lID0gJ2hlbHAtYnViYmxlJzsKICAgICAgICAgICAgYnViYmxlLmlubmVySFRNTCA9IGdldFRleHQoJ2xlYXJuQWJvdXRUb29sJyk7CiAgICAgICAgICAgIG5hdi5hcHBlbmRDaGlsZChidWJibGUpOwogICAgICAgICAgICAKICAgICAgICAgICAgYnViYmxlLm9uY2xpY2sgPSAoKSA9PiB7CiAgICAgICAgICAgICAgICBzdG9wSGVscEJ1YmJsZUFuaW1hdGlvbigpOwogICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2tpY2tUb29sSGVscEJ1YmJsZVNlZW4nLCAndHJ1ZScpOwogICAgICAgICAgICAgICAgc2hvd0hlbHBNb2RhbCgpOwogICAgICAgICAgICB9OwogICAgICAgICAgICAKICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7IGlmIChidWJibGUpIGJ1YmJsZS5yZW1vdmUoKSB9LCA1MDAwKTsKICAgICAgICB9OwoKICAgICAgICBjcmVhdGVBbmRTaG93QnViYmxlKCk7CiAgICAgICAgaGVscEJ1YmJsZUludGVydmFsID0gc2V0SW50ZXJ2YWwoY3JlYXRlQW5kU2hvd0J1YmJsZSwgMTAwMDApOwogICAgfQoKICAgIGZ1bmN0aW9uIHRvZ2dsZVNldHRpbmdzUGFuZWwoKSB7CiAgICAgICAgY29uc3QgdWkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgna2ljay10b29scy11aScpOwogICAgICAgIGNvbnN0IHdpZGdldCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdraWNrLWp1dHN1LXdpZGdldCcpOwogICAgICAgIGlmICghdWkgfHwgIXdpZGdldCkgcmV0dXJuOwoKICAgICAgICBjb25zdCBpc1Zpc2libGUgPSB1aS5zdHlsZS5kaXNwbGF5ID09PSAnZmxleCc7CiAgICAgICAgCiAgICAgICAgaWYgKGlzVmlzaWJsZSkgewogICAgICAgICAgICB1aS5zdHlsZS5vcGFjaXR5ID0gJzAnOwogICAgICAgICAgICB1aS5zdHlsZS50cmFuc2Zvcm0gPSAndHJhbnNsYXRlKC01MCUsLTUwJSkgc2NhbGUoMC45NSknOwogICAgICAgICAgICB3aWRnZXQuc3R5bGUuekluZGV4ID0gJzEwMDAxJzsKICAgICAgICAgICAgc3RvcEhlbHBCdWJibGVBbmltYXRpb24oKTsKICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7IHVpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZScgfSwgMzAwKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB1aS5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnOwogICAgICAgICAgICB3aWRnZXQuc3R5bGUuekluZGV4ID0gJzk5OTgnOwogICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICAgIHVpLnN0eWxlLm9wYWNpdHkgPSAnMSc7CiAgICAgICAgICAgICAgICB1aS5zdHlsZS50cmFuc2Zvcm0gPSAndHJhbnNsYXRlKC01MCUsLTUwJSkgc2NhbGUoMSknOwogICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRMYW5ndWFnZSkgc3RhcnRIZWxwQnViYmxlQW5pbWF0aW9uKHVpKTsKICAgICAgICAgICAgfSwgMTApOwogICAgICAgIH0KICAgIH0KCiAgICBmdW5jdGlvbiBzaG93S2lja05vdGlmaWNhdGlvbih0KSB7CiAgICAgICAgbGV0IGMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgna2ljay10b2FzdC1jb250YWluZXInKTsKICAgICAgICBpZiAoIWMpIHsKICAgICAgICAgICAgYyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgICAgICBjLmlkID0gJ2tpY2stdG9hc3QtY29udGFpbmVyJzsKICAgICAgICAgICAgYy5zdHlsZS5jc3NUZXh0ID0gJ3Bvc2l0aW9uOmZpeGVkO2JvdHRvbToyMHB4O3JpZ2h0OjIwcHg7ei1pbmRleDoxMDAwMDI7cG9pbnRlci1ldmVudHM6bm9uZTt3aWR0aDozMjBweDttYXgtd2lkdGg6OTAlOyc7CiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYyk7CiAgICAgICAgfQoKICAgICAgICAvLyDYpdiy2KfZhNipINis2YXZiti5INin2YTYpdi02LnYp9ix2KfYqiDYp9mE2YXZiNis2YjYr9ipINmE2LbZhdin2YYg2KXYtNi52KfYsSDZiNin2K3YrwogICAgICAgIGMuaW5uZXJIVE1MID0gJyc7IAogICAgICAgIAogICAgICAgIGNvbnN0IFQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgICBULnN0eWxlLmNzc1RleHQgPSBgYmFja2dyb3VuZDojMjgyYTJlO2NvbG9yOnZhcigtLW0zLXRleHQtcHJpbWFyeSk7Zm9udC1mYW1pbHk6J1JvYm90bycsc2Fucy1zZXJpZjtmb250LXdlaWdodDo1MDA7cGFkZGluZzoxNHB4IDI1cHg7Ym9yZGVyLXJhZGl1czoxOHB4O2JveC1zaGFkb3c6MCA0cHggMTVweCByZ2JhKDAsMCwwLC4zKTtmb250LXNpemU6MTZweDtvcGFjaXR5OjA7dHJhbnNmb3JtOnRyYW5zbGF0ZVgoMTIwJSk7dHJhbnNpdGlvbjphbGwgLjRzIGN1YmljLWJlemllciguMjUsMSwuNSwxKTttYXJnaW4tdG9wOjEwcHg7cG9zaXRpb246cmVsYXRpdmU7b3ZlcmZsb3c6aGlkZGVuO2JvcmRlcjogMXB4IHNvbGlkICMzYzQwNDM7YDsKICAgICAgICBULmlubmVySFRNTCA9IGA8ZGl2PiR7dH08L2Rpdj48ZGl2IGNsYXNzPSdraWNrLXRvYXN0LWxvYWRlcicgc3R5bGU9J2JhY2tncm91bmQ6IHZhcigtLW0zLXByaW1hcnkpJz48L2Rpdj5gOwoKICAgICAgICBjLmFwcGVuZENoaWxkKFQpOwogICAgICAgIHNldFRpbWVvdXQoKCkgPT4geyBULnN0eWxlLm9wYWNpdHkgPSAnMSc7IFQuc3R5bGUudHJhbnNmb3JtID0gJ3RyYW5zbGF0ZVgoMCknIH0sIDEwKTsKICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgVC5zdHlsZS5vcGFjaXR5ID0gJzAnOwogICAgICAgICAgICBULnN0eWxlLnRyYW5zZm9ybSA9ICd0cmFuc2xhdGVYKDEyMCUpJzsKICAgICAgICAgICAgVC5hZGRFdmVudExpc3RlbmVyKCd0cmFuc2l0aW9uZW5kJywgKCkgPT4gVC5yZW1vdmUoKSk7CiAgICAgICAgfSwgMzAwMCk7CiAgICB9CgogICAgLy8gSW5pdGlhbGl6YXRpb24gbG9naWMKICAgIGlmIChkb2N1bWVudC5yZWFkeVN0YXRlID09PSAnbG9hZGluZycpIHsKICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgKCkgPT4gewogICAgICAgICAgICBjcmVhdGVTZXR0aW5nc1BhbmVsKCk7CiAgICAgICAgICAgIGNyZWF0ZVByaW1hcnlXaWRnZXQoKTsKICAgICAgICB9KTsKICAgIH0gZWxzZSB7CiAgICAgICAgY3JlYXRlU2V0dGluZ3NQYW5lbCgpOwogICAgICAgIGNyZWF0ZVByaW1hcnlXaWRnZXQoKTsKICAgIH0KCiAgICAvLyBCZWFyZXIgVG9rZW4gSW50ZXJjZXB0aW9uCiAgICB3aW5kb3cuZmV0Y2ggPSBhc3luYyBmdW5jdGlvbiguLi5hKSB7CiAgICAgICAgY29uc3QgciA9IGF3YWl0IG9yaWdpbmFsRmV0Y2guYXBwbHkodGhpcywgYSk7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgY29uc3QgdCA9IGFbMV0/LmhlYWRlcnM/LkF1dGhvcml6YXRpb24/LnN1YnN0cmluZyg3KTsKICAgICAgICAgICAgaWYgKHQgJiYgdCAhPT0gd2luZG93LmJlYXJlclRva2VuR2xvYmFsKSB3aW5kb3cuYmVhcmVyVG9rZW5HbG9iYWwgPSB0OwogICAgICAgIH0gY2F0Y2ggKGUpIHt9CiAgICAgICAgcmV0dXJuIHI7CiAgICB9OwoKfWNhdGNoKGVycm9yKXsKICAgIGNvbnNvbGUuZXJyb3IoJ0EgY3JpdGljYWwgZXJyb3Igb2NjdXJyZWQgaW4gS2lja0NoYXRUb29sczonLCBlcnJvcik7Cn19KSgpOwo=",
"ver":"1",
"uptmsg":"new update available",
"uptlink":"https://www.google.com",
"fixmode":"false",
"fixmode_msg":"the app is fixmode",
"web":"https://www.kick.com"
  }
]
